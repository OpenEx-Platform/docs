{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"OpenBAS Documentation Space","text":"<p>Welcome to the OpenBAS Documentation space. Here you will be able to find all documents, meeting notes and presentations about the platform.</p> <p>Release notes</p> <p>Please, be sure to also take a look at the OpenBAS releases notes, they may contain important information about releases and deployments.</p>"},{"location":"#introduction","title":"Introduction","text":"<p>OpenBAS is an open source platform allowing organizations to plan, schedule and conduct crisis exercises as well as adversary and breach simulations. OpenBAS is an ISO 22398 compliant product and has been designed as a modern web application including a RESTFul API and an UX oriented frontend.</p>"},{"location":"#getting-started","title":"Getting started","text":"<ul> <li> <p> Deployment &amp; Setup</p> <p>Learn how to deploy and configure the platform as well as launch connectors to get the first data in OpenBAS.</p> <p> Deploy now</p> </li> <li> <p> User Guide</p> <p>Understand how to use the platform, create exercises and campaigns, use  media pressure simulation and integrate with other tools. </p> <p> Explore</p> </li> <li> <p> Administration</p> <p>Know how to administrate OpenBAS, create users and groups using RBAC / segregation, customize the overall experience.</p> <p> Customize</p> </li> </ul> <p>Need more help?</p> <p>We are doing our best to keep this documentation complete, accurate and up to date. </p> <p>If you still have questions or you find something which is not sufficiently explained, join the Filigran Community on Slack.</p>"},{"location":"#blog-posts","title":"Blog posts","text":"<ul> <li> <p> Resources and content</p> <p>Discover tutorials, best practices and deep dives on OpenBAS features on our Filigran blog.</p> <p> Read now</p> </li> </ul>"},{"location":"#additional-resources","title":"Additional resources","text":"<p>Below, you will find external resources which may be useful along your OpenCTI journey.</p> <p> OpenBAS Ecosystem List of available injectors and collectors to expand platform usage.</p> <p> Training Courses Training courses for analysts and administrators in the Filigran training center.</p> <p> Video materials Set of video illustrating the implementation of use cases and platform capabilities.</p> <p></p>"},{"location":"administration/enterprise/","title":"Enterprise edition","text":"<p>Filigran</p> <p>Filigran is providing an Enterprise Edition of the platform, whether on-premise or in the SaaS.</p>"},{"location":"administration/enterprise/#what-is-openbas-ee","title":"What is OpenBAS EE?","text":"<p>OpenBAS Enterprise Edition is based on the open core concept. This means that the source code of OCTI EE remains open source and included in the main GitHub repository of the platform but is published under a specific license. As specified in the GitHub license file:</p> <ul> <li>The OpenBAS Community Edition is licensed under the Apache License, Version 2.0 (the \u201cApache License\u201d).</li> <li>The OpenBAS Enterprise Edition is licensed under the OpenBAS Enterprise Edition License (the \u201cEnterprise Edition Licensee\u201d).</li> </ul> <p>The source files in this repository have a header indicating which license they are under. If no such header is provided, this means that the file belongs to the Community Edition under the Apache License, Version 2.0.</p>"},{"location":"administration/enterprise/#ee-activation","title":"EE Activation","text":"<p>Enterprise edition is easy to activate. You need to go the platform settings and click on the Activate button.</p> <p></p> <p>Then you will need to agree to the Filigran EULA.</p> <p></p> <p>As a reminder:</p> <ul> <li>OpenBAS EE is free-to-use for development, testing and research purposes as well as for non-profit organizations.</li> <li>OpenBAS EE is included for all Filigran SaaS customers without additional fee.</li> <li>For all other usages, OpenBAS EE is reserved to organizations that have signed a Filigran Enterprise agreement.</li> </ul>"},{"location":"administration/enterprise/#available-features","title":"Available features","text":""},{"location":"administration/enterprise/#generative-ai","title":"Generative AI","text":"<p>Be able to use AI for content generation including emails, media pressure articles etc.</p>"},{"location":"administration/enterprise/#more-to-come","title":"More to come","text":"<p>More features will be available in OpenBAS in the future. Features like:</p> <ul> <li>Security posture automatic evalution.</li> <li>Premium mitigations and recommendation for configuration changes.</li> </ul>"},{"location":"administration/introduction/","title":"Introduction","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"administration/parameters/","title":"Parameters","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"administration/policies/","title":"Policies","text":""},{"location":"administration/policies/#overview","title":"Overview","text":"<p>The Policies configuration page, located under Settings &gt; Security &gt; Policies, is designed to manage and customize various security-related settings.  This page currently includes the configuration of login messages, with plans to expand its capabilities in the future.  </p>"},{"location":"administration/policies/#current-features","title":"Current Features","text":"<p>Login Messages  Administrators can create and manage messages that are displayed to users upon login. This feature is useful for providing important information or updates directly to users when they access the platform.   There are three types of messages:   * Platform Login Message: Displayed above the login form to communicate vital information or announcements.   * Platform Consent Message: Displayed to users during the login process. It appears as a notification that blocks access to the login form until users actively give their consent by checking an approval box. This ensures that users acknowledge and agree to certain terms or conditions before proceeding with logging in.   * Platform Consent Confirm Text: A message accompanying the consent box, providing clarity on the consent confirmation process.</p> <p>These messages can be customized to fit the organization's specific needs and requirements, ensuring that critical information is communicated effectively to users.</p>"},{"location":"administration/policies/#accessing-the-policies-configuration-page","title":"Accessing the Policies Configuration Page","text":"<p>To access the Policies configuration page, navigate to:</p> <pre><code>Settings / Security / Policies\n</code></pre>"},{"location":"administration/policies/#how-to-configure-login-messages","title":"How to Configure Login Messages","text":"<ol> <li>Navigate to the Policies Configuration Page: Go to \"Settings &gt; Security &gt; Policies\".</li> <li>Login Messages Section: Locate the section for login messages.  </li> <li>Enter Message Details: Provide the content for the login message.  </li> <li>Save Changes: Save your changes to apply the new or updated message.  </li> </ol>"},{"location":"administration/policies/#best-practices","title":"Best Practices","text":"<ul> <li>Regular Updates: Regularly update login messages to keep users informed of any critical updates or changes.</li> <li>Clear Communication: Ensure that messages are clear and concise to avoid confusion.</li> </ul>"},{"location":"administration/users/","title":"Users","text":"<p>You can manage users in <code>Settings &gt; Security &gt; Users</code>. If you are using Single Sign-On (SSO), user accounts in OpenBAS are automatically created upon login.</p> <p></p> <p>To create a user, just click on the <code>+</code> button :</p> <p> </p> <p>To update a user, click on the ellipsis menu (\u22ee) : </p> <p></p> <p>Here, you can modify parameters such as the organization, phone number, password, and even your GPG public key : </p> <p> </p> <p>To delete a user : </p> <p></p>"},{"location":"deployment/authentication/","title":"Authentication","text":""},{"location":"deployment/authentication/#introduction","title":"Introduction","text":"<p>Welcome to the authentication documentation for OpenBAS. This documentation provides details on setting up and utilizing the authentication system, which supports multiple authentication methods to cater to different user needs and security requirements.</p>"},{"location":"deployment/authentication/#supported-authentication-methods","title":"Supported authentication methods","text":""},{"location":"deployment/authentication/#local-users","title":"Local users","text":"<p>OpenBAS use this strategy as the default, but it's not the one we recommend for security reasons.</p> <ul> <li><code>OPENBAS.AUTH-LOCAL-ENABLE</code>: Set this to <code>true</code> to enable username/password authentication.</li> </ul> <p>Production deployment</p> <p>Please use the LDAP/Auth0/OpenID/SAML strategy for production deployment.</p>"},{"location":"deployment/authentication/#openid","title":"OpenID","text":"<p>This method allows to use the OpenID Connect Protocol to handle the authentication.</p> <ul> <li><code>OPENBAS.AUTH-OPENID-ENABLE</code>: Set this to <code>true</code> to enable OAuth (OpenID) authentication.</li> </ul> <p>Example for Auth0:</p> <pre><code>SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_{registrationId}_ISSUER-URI=https://auth.auth0.io\nSPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_CLIENT-NAME=Login with auth0\nSPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_CLIENT-ID=\nSPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_CLIENT-SECRET=\nSPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_REDIRECT-URI=${openbas.base-url}/login/oauth2/code/{registrationId}\nSPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_SCOPE=openid,profile,email\n</code></pre> <p>Example for GitHub (or others pre-handled oauth2 providers):</p> <pre><code>SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_CLIENT_NAME=Login with Github\nSPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_CLIENT_ID=\nSPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_{registrationId}_CLIENT_SECRET=\n</code></pre> <p>Tips</p> <p>{registrationId} is an arbitrary identifier you choose.</p>"},{"location":"deployment/authentication/#saml2","title":"SAML2","text":"<p>This strategy can be used to authenticate your user with your company SAML.</p> <ul> <li><code>OPENBAS.AUTH-SAML2-ENABLE</code>: Set this to <code>true</code> to enable SAML2 authentication. </li> </ul> <p>Example for Microsoft : <pre><code>SPRING_SECURITY_SAML2_RELYINGPARTY_REGISTRATION_{registrationId}_ENTITY-ID=\nSPRING_SECURITY_SAML2_RELYINGPARTY_REGISTRATION_{registrationId}_ASSERTINGPARTY_METADATA-URI=\nOPENBAS_PROVIDER_{registrationId}_FIRSTNAME_ATTRIBUTE_KEY=\nOPENBAS_PROVIDER_{registrationId}_LASTNAME_ATTRIBUTE_KEY=\n</code></pre></p> <p>Tips</p> <p>{registrationId} is an arbitrary identifier you choose.   metadata-uri is the uri of the xml file given by your identity provider</p>"},{"location":"deployment/authentication/#single-sign-on-url","title":"Single Sign On URL","text":""},{"location":"deployment/authentication/#saml2_1","title":"SAML2","text":"<p>Url for the config of your sso provider <pre><code>${openbas.base-url}/login/saml2/sso/{registrationId}\n</code></pre></p>"},{"location":"deployment/authentication/#map-administrators-to-specific-roles-openid-and-saml-2","title":"Map administrators to specific roles (OpenID and SAML 2)","text":"<p>To grant administrative roles, you can utilize OAuth and SAML2 integration. If you opt for this approach, you'll need to include the following variables:</p> <pre><code>OPENBAS_PROVIDER_{registrationId}_ROLES_PATH=http://schemas.microsoft.com/ws/2008/06/identity/claims/role\nOPENBAS_PROVIDER_{registrationId}_ROLES_ADMIN=\n</code></pre> <p>However, if you intend to manage administrative roles within the OpenBAS platform itself, there's no need to provide these variables.</p>"},{"location":"deployment/authentication/#error-handling","title":"Error Handling","text":"<p>Under construction</p> <p>We are doing our best to complete this page.  If you want to participae, dont hesitate to join the Filigran Community on Slack  or submit your pull request on the Github doc repository.</p>"},{"location":"deployment/clustering/","title":"Clustering","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"deployment/collectors/","title":"Collectors","text":"<p>Tips</p> <p>If you want to learn more about the concept and features of collectors, you can have more info here.</p>"},{"location":"deployment/collectors/#installation","title":"Installation","text":""},{"location":"deployment/collectors/#external-python-collectors","title":"External (Python) collectors","text":""},{"location":"deployment/collectors/#configuration","title":"Configuration","text":"<p>All external collectors have to be able to access the OpenBAS API. To allow this connection, they have 2 mandatory configuration parameters, the <code>OPENBAS_URL</code> and the <code>OPENBAS_TOKEN</code>. In addition to these 2 parameters, collectors have other mandatory parameters that need to be set in order to get them work.</p> <p>Collector tokens</p> <p>You can use your administrator token or create another administrator service account to put in your collectors. It is not necessary to have one dedicated user for each collector.</p> <p>Here is an example of a collector <code>docker-compose.yml</code> file: <pre><code>- OPENBAS_URL=http://localhost\n- OPENBAS_TOKEN=ChangeMe\n- COLLECTOR_ID=ChangeMe # Valid UUIDv4\n- \"COLLECTOR_NAME=MITRE ATT&amp;CK\"\n- COLLECTOR_LOG_LEVEL=error\n</code></pre></p> <p>Here is an example in a collector <code>config.yml</code> file:</p> <pre><code>openbas:\n  url: 'http://localhost:3001'\n  token: 'ChangeMe'\n\ncollector:\n  id: 'ChangeMe'\n  name: 'MITRE ATT&amp;CK'\n  log_level: 'info'\n</code></pre>"},{"location":"deployment/collectors/#docker-activation","title":"Docker activation","text":"<p>You can either directly run the Docker image of collectors or add them to your current <code>docker-compose.yml</code> file.</p>"},{"location":"deployment/collectors/#add-an-collector-to-your-deployment","title":"Add an collector to your deployment","text":"<p>For instance, to enable the MITRE ATT&amp;CK collector, you can add a new service to your <code>docker-compose.yml</code> file:</p> <pre><code>  collector-mitre-attack:\n    image: openbas/collector-mitre-attack:1.0.0\n    environment:\n      - OPENBAS_URL=http://localhost\n      - OPENBAS_TOKEN=ChangeMe\n      - COLLECTOR_ID=ChangeMe\n      - \"COLLECTOR_NAME=MITRE ATT&amp;CK\"\n      - COLLECTOR_LOG_LEVEL=error\n    restart: always\n</code></pre>"},{"location":"deployment/collectors/#launch-a-standalone-collector","title":"Launch a standalone collector","text":"<p>To launch standalone collector, you can use the <code>docker-compose.yml</code> file of the collector itself. Just download the latest release and start the collector:</p> <pre><code>$ wget https://github.com/OpenBAS-Platform/collectors/archive/{RELEASE_VERSION}.zip\n$ unzip {RELEASE_VERSION}.zip\n$ cd collectors-{RELEASE_VERSION}/mitre-attack/\n</code></pre> <p>Change the configuration in the <code>docker-compose.yml</code> according to the parameters of the platform and of the targeted service. Then launch the collector:</p> <pre><code>$ docker compose up\n</code></pre>"},{"location":"deployment/collectors/#manual-activation","title":"Manual activation","text":"<p>If you want to manually launch collector, you just have to install Python 3 and pip3 for dependencies:</p> <pre><code>$ apt install python3 python3-pip\n</code></pre> <p>Download the release of the collectors:</p> <pre><code>$ wget &lt;https://github.com/OpenBAS-Platform/collectors/archive/{RELEASE_VERSION}.zip&gt;\n$ unzip {RELEASE_VERSION}.zip\n$ cd collectors-{RELEASE_VERSION}/mitre-attack/src/\n</code></pre> <p>Install dependencies and initialize the configuration:</p> <pre><code>$ pip3 install -r requirements.txt\n$ cp config.yml.sample config.yml\n</code></pre> <p>Change the <code>config.yml</code> content according to the parameters of the platform and of the targeted service and launch the collector:</p> <pre><code>$ python3 openbas_mitre.py\n</code></pre>"},{"location":"deployment/collectors/#collectors-status","title":"Collectors status","text":"<p>The collector status can be displayed in the dedicated section of the platform available in Integration &gt; collectors. You will be able to see the statistics of the RabbitMQ queue of the collector:</p> <p></p> <p>Problem</p> <p>If you encounter problems deploying OpenBAS or collectors, you can consult the troubleshooting page page.</p>"},{"location":"deployment/configuration/","title":"Configuration","text":"<p>The purpose of this section is to learn how to configure OpenBAS to have it tailored for your production and development needs. It is possible to check all default parameters implemented in the platform in the  <code>application.properties</code> file.</p> <p>Here are the configuration keys, for both containers (environment variables) and manual deployment.</p> <p>Parameters equivalence</p> <p>The equivalent of a config variable in environment variables is the usage of an underscore (<code>_</code>) for a level of config.</p> <p>For example: <pre><code>spring.servlet.multipart.max-file-size=5GB\n</code></pre></p> <p>will become: <pre><code>SPRING_SERVLET_MULTIPART_MAX-FILE-SIZE=5GB\n</code></pre></p>"},{"location":"deployment/configuration/#platform","title":"Platform","text":""},{"location":"deployment/configuration/#api-frontend","title":"API &amp; Frontend","text":""},{"location":"deployment/configuration/#basic-parameters","title":"Basic parameters","text":"Parameter Environment variable Default value Description server.address SERVER_ADDRESS 0.0.0.0 Listen address of the application server.port SERVER_PORT 8080 Listen port of the application openbas.base-url OPENBAS_BASE-URL http://localhost:8080 Base URL of the application, will be used in some email links server.servlet.session.timeout SERVER_SERVLET_SESSION_TIMEOUT 60m Default duration of session (60 minutes) openbas.cookie-secure OPENBAS_COOKIE-SECURE <code>false</code> Turn on if the access is done in HTTPS openbas.cookie-duration OPENBAS_COOKIE-DURATION P1D Cookie duration (default 1 day) openbas.admin.email OPENBAS_ADMIN_EMAIL admin@openbas.io Default login email of the admin user openbas.admin.password OPENBAS_ADMIN_PASSWORD ChangeMe Default password of the admin user openbas.admin.token OPENBAS_ADMIN_TOKEN ChangeMe Default token (must be a valid UUIDv4)"},{"location":"deployment/configuration/#network-and-security","title":"Network and security","text":"Parameter Environment variable Default value Description server.ssl.enabled SERVER_SSL_ENABLED <code>false</code> Turn on to enable SSL on the local server server.ssl.key-store-type SERVER_SSL_KEY-STORE-TYPE PKCS12 Type of SSL keystore server.ssl.key-store SERVER_SSL_KEY-STORE classpath:localhost.p12 SSL keystore path server.ssl.key-store-password SERVER_SSL_KEY-STORE-PASSWORD admin SSL keystore password server.ssl.key-alias SERVER_SSL_KEY-ALIAS localhost SSL key alias openbas.unsecured-certificate OPENBAS_UNSECURED-CERTIFICATE <code>false</code> Turn on to authorize self-signed or unsecure ssl certificate openbas.with-proxy OPENBAS_WITH-PROXY <code>false</code> Turn on to authorize environment with proxy"},{"location":"deployment/configuration/#logging","title":"Logging","text":"Parameter Environment variable Default value Description logging.level.root LOGGING_LEVEL_ROOT fatal Root log level logging.level.io.openbas LOGGING_LEVEL_IO_OPENBAS warn OpenBAS log level logging.file.name LOGGING_FILE_NAME ./logs/openbas.log Log file path (in addition to console output) logging.logback.rollingpolicy.max-file-size LOGGING_LOGBACK_ROLLINGPOLICY_MAX-FILE-SIZE 10MB Rolling max file size logging.logback.rollingpolicy.max-history LOGGING_LOGBACK_ROLLINGPOLICY_MAX-HISTORY 7 Rolling max days"},{"location":"deployment/configuration/#dependencies","title":"Dependencies","text":""},{"location":"deployment/configuration/#xtm-suite","title":"XTM Suite","text":"Parameter Environment variable Default value Description openbas.xtm.opencti.enable OPENBAS_XTM_OPENCTI_ENABLE false Enable integration with OpenCTI openbas.xtm.opencti.url OPENBAS_XTM_OPENCTI_URL OpenCTI URL openbas.xtm.opencti.token OPENBAS_XTM_OPENCTI_TOKEN OpenCTI token openbas.xtm.opencti.disable-display OPENBAS_XTM_OPENCTI_DISABLE-DISPLAY <code>false</code> Disable OpenCTI in the UI"},{"location":"deployment/configuration/#postgresql","title":"PostgreSQL","text":"Parameter Environment variable Default value Description spring.datasource.url SPRING_DATASOURCE_URL jdbc:postgresql://... URL of the database (ex jdbc:postgresql://postgresql.mydomain.com:5432/openbas) spring.datasource.username SPRING_DATASOURCE_USERNAME Login for the database spring.datasource.password SPRING_DATASOURCE_PASSWORD password Password for the database"},{"location":"deployment/configuration/#rabbitmq","title":"RabbitMQ","text":"Parameter Environment variable Default value Description openbas.rabbitmq.prefix OPENBAS_RABBITMQ_PREFIX openbas Prefix for the queue names openbas.rabbitmq.hostname OPENBAS_RABBITMQ_HOSTNAME localhost Hostname of the RabbitMQ server openbas.rabbitmq.vhost OPENBAS_RABBITMQ_VHOST / Vhost of the RabbitMQ server openbas.rabbitmq.port OPENBAS_RABBITMQ_PORT 5672 Port of the RabbitMQ Server openbas.rabbitmq.management-port OPENBAS_RABBITMQ_MANAGEMENT-PORT 15672 Management port of the RabbitMQ Server openbas.rabbitmq.ssl OPENBAS_RABBITMQ_SSL <code>false</code> Use SSL openbas.rabbitmq.user OPENBAS_RABBITMQ_USER guest RabbitMQ user openbas.rabbitmq.pass OPENBAS_RABBITMQ_PASS guest RabbitMQ password openbas.rabbitmq.queue-type OPENBAS_RABBITMQ_QUEUE-TYPE classic RabbitMQ Queue Type (\"classic\" or \"quorum\") openbas.rabbitmq.management-insecure OPENBAS_RABBITMQ_MANAGEMENT-INSECURE <code>true</code> Whether or not the calls to the management plugin of rabbitmq can be insecure openbas.rabbitmq.trust.store OPENBAS_RABBITMQ_TRUST_STORE &lt;file:/path/to/client-store.p12&gt; Path to the p12 keystore file to use if ssl is activated and insecure management is deactivated. The keystore must contain the client side certificate and key generated for ssl. openbas.rabbitmq.trust-store-password OPENBAS_RABBITMQ_TRUST-STORE-PASSWORD &lt;trust-store-password&gt; Password of the keystore"},{"location":"deployment/configuration/#s3-bucket","title":"S3 bucket","text":"Parameter Environment variable Default value Description minio.endpoint MINIO_ENDPOINT localhost Hostname of the S3 Service. Example if you use AWS Bucket S3: s3.us-east-1.amazonaws.com (if <code>minio:bucket_region</code> value is us-east-1). This parameter value can be omitted if you use Minio as an S3 Bucket Service. minio.port MINIO_PORT 9000 Port of the S3 Service. For AWS Bucket S3 over HTTPS, this value can be changed (usually 443). minio.secure MINIO_SECURE <code>false</code> Indicates whether the S3 Service has TLS enabled. For AWS Bucket S3 over HTTPS, this value could be <code>true</code>. minio.access-key MINIO_ACCESS-KEY key Access key for the S3 Service. minio.access-secret MINIO_ACCESS-SECRET secret Secret key for the S3 Service. minio.bucket MINIO_BUCKET openbas S3 bucket name. Useful to change if you use AWS. minio.bucket-region MINIO_BUCKET-REGION us-east-1 Region of the S3 bucket if you are using AWS. This parameter value can be omitted if you use Minio as an S3 Bucket Service. openbas.s3.use-aws-role OPENBAS_S3_USE-AWS-ROLE <code>false</code> Whether or not we want to get the AWS role using AWS Security Token Service openbas.s3.sts-endpoint OPENBAS_S3_STS-ENDPOINT <code>experimental</code> This parameter is optional. If it stays empty, it will use either the AWS legacy STS endpoint (https://sts.amazonaws.com) or the regional one using AWS_REGION if the environment variable is set (you can learn more about it here). Otherwise, if you want to use your own custom implementation of STS endpoints, you can set it here."},{"location":"deployment/configuration/#agents-executors","title":"Agents (executors)","text":"<p>To be able to use the power of the OpenBAS platform on endpoints, you need at least one neutral executor that will be in charge of executing implants as detached processes. Implants will then execute payloads.</p>"},{"location":"deployment/configuration/#openbas-agent","title":"OpenBAS Agent","text":"<p>The OpenBAS agent is enabled by default and cannot be disabled. It is available for:</p> <ul> <li>Windows (<code>x86_64</code> / <code>arm64</code>)</li> <li>Linux (<code>x86_64</code> / <code>arm64</code>)</li> <li>MacOS (<code>x86_64</code> / <code>arm64</code>)</li> </ul>"},{"location":"deployment/configuration/#other-executors","title":"Other executors","text":"<p>To know more about other available executors, please refer to the executors documentation</p>"},{"location":"deployment/configuration/#mail-services","title":"Mail services","text":"<p>For the associated mailbox, for the moment the platform only relies on IMAP / SMTP protocols, we are actively developing integrations with APIs such as O365 and Google Apps.</p>"},{"location":"deployment/configuration/#smtp","title":"SMTP","text":"Parameter Environment variable Default value Description spring.mail.host SPRING_MAIL_HOST smtp.mail.com SMTP Server hostname spring.mail.port SPRING_MAIL_PORT 465 SMTP Server port spring.mail.username SPRING_MAIL_USERNAME username@mail.com SMTP Server username spring.mail.password SPRING_MAIL_PASSWORD password SMTP Server password Parameter Environment variable Default value Description spring.mail.properties.mail.smtp.ssl.enable SPRING_MAIL_PROPERTIES_MAIL_SMTP_SSL_ENABLE <code>true</code> Turn on SMTP SSL mode spring.mail.properties.mail.smtp.ssl.trust SPRING_MAIL_PROPERTIES_MAIL_SMTP_SSL_TRUST * Trust unverified certificates spring.mail.properties.mail.smtp.auth SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH <code>true</code> Turn on SMTP authentication spring.mail.properties.mail.smtp.starttls.enable SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE <code>false</code> Turn on SMTP STARTTLS <p>Note : Example with Gmail</p> Parameter Environment variable Value Description spring.mail.host SPRING_MAIL_HOST smtp.gmail.com Gmail SMTP server hostname spring.mail.port SPRING_MAIL_PORT 587 Gmail SMTP server port (TLS) spring.mail.username SPRING_MAIL_USERNAME username@mail.com Gmail address spring.mail.password SPRING_MAIL_PASSWORD app password Gmail App-specific password spring.mail.properties.mail.smtp.auth SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH true Enable SMTP authentication spring.mail.properties.mail.smtp.starttls.enable SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE true Enable SMTP STARTTLS <p>\u26a0\ufe0f Important: If you are using two-factor authentication on your Gmail account, an app-specific password is required. You can find a guide here.</p>"},{"location":"deployment/configuration/#imap","title":"IMAP","text":"Parameter Environment variable Default value Description openbas.mail.imap.enabled OPENBAS_MAIL_IMAP_ENABLED false Turn on to enable IMAP mail synchronization. Injector email must be well configured openbas.mail.imap.host OPENBAS_MAIL_IMAP_HOST imap.mail.com IMAP Server hostname openbas.mail.imap.port OPENBAS_MAIL_IMAP_PORT 993 IMAP Server port openbas.mail.imap.username OPENBAS_MAIL_IMAP_USERNAME username@mail.com IMAP Server username openbas.mail.imap.password OPENBAS_MAIL_IMAP_PASSWORD password IMAP Server password openbas.mail.imap.inbox OPENBAS_MAIL_IMAP_INBOX INBOX IMAP inbox directory to synchronize from openbas.mail.imap.sent OPENBAS_MAIL_IMAP_SENT Sent IMAP sent directory to synchronize from Parameter Environment variable Default value Description openbas.mail.imap.ssl.enable OPENBAS_MAIL_IMAP_SSL_ENABLE true Turn on IMAP SSL mode openbas.mail.imap.ssl.trust OPENBAS_MAIL_IMAP_SSL_TRUST * Trust unverified certificates openbas.mail.imap.auth OPENBAS_MAIL_IMAP_AUTH true Turn on IMAP authentication openbas.mail.imap.starttls.enable OPENBAS_MAIL_IMAP_STARTTLS_ENABLE true Turn on IMAP STARTTLS <p>Note : Example with Gmail</p> Parameter Environment variable Value Description openbas.mail.imap.enabled OPENBAS_MAIL_IMAP_ENABLED true Enable IMAP for Gmail openbas.mail.imap.host OPENBAS_MAIL_IMAP_HOST imap.gmail.com Gmail IMAP server hostname openbas.mail.imap.port OPENBAS_MAIL_IMAP_PORT 993 Gmail IMAP port (SSL) openbas.mail.imap.username OPENBAS_MAIL_IMAP_USERNAME username@mail.com Gmail address openbas.mail.imap.password OPENBAS_MAIL_IMAP_PASSWORD app password Gmail App-specific password openbas.mail.imap.ssl.enable OPENBAS_MAIL_IMAP_SSL_ENABLE true Enable IMAP SSL openbas.mail.imap.ssl.trust OPENBAS_MAIL_IMAP_SSL_TRUST * Trust unverified certificates openbas.mail.imap.auth OPENBAS_MAIL_IMAP_AUTH true Enable IMAP authentication openbas.mail.imap.sent OPENBAS_MAIL_IMAP_SENT [Gmail]/Sent Mail IMAP sent directory to synchronize from <p>\u26a0\ufe0f Important: If you are using two-factor authentication on your Gmail account, an app-specific password is required. You can find a guide here.</p>"},{"location":"deployment/configuration/#ai-service","title":"AI Service","text":"<p>AI deployment and cloud services</p> <p>There are several possibilities for Enterprise Edition customers to use OpenBAS AI endpoints:</p> <ul> <li>Use the Filigran AI Service leveraging our custom AI model using the token given by the support team.</li> <li>Use OpenAI or MistralAI cloud endpoints using your own tokens.</li> <li>Deploy or use local AI endpoints (Filigran can provide you with the custom model).</li> </ul> Parameter Environment variable Default value Description ai.enabled AI_ENABLED true Enable AI capabilities ai.type AI_TYPE mistralai AI type (<code>mistralai</code> or <code>openai</code>) ai.endpoint AI_ENDPOINT Endpoint URL (empty means default cloud service) ai.token AI_TOKEN Token for endpoint credentials ai.model AI_MODEL Model to be used for text generation (depending on type) ai.model_images AI_MODEL_IMAGES Model to be used for image generation (depending on type)"},{"location":"deployment/executors/","title":"Executors","text":""},{"location":"deployment/executors/#introduction","title":"Introduction","text":"<p>To be able to use the power of the OpenBAS platform on endpoints, you need at least one neutral executor that will be in charge of executing implants as detached processes. Implants will then execute payloads.</p> <p></p>"},{"location":"deployment/executors/#openbas-agent","title":"OpenBAS Agent","text":"<p>More informations here</p>"},{"location":"deployment/executors/#tanium-agent","title":"Tanium Agent","text":"<p>The Tanium agent can be leveraged to execute implants as detached processes that will the execute payloads according to the OpenBAS architecture.</p>"},{"location":"deployment/executors/#configure-the-tanium-platform","title":"Configure the Tanium Platform","text":"<p>First of all, we are providing 2 Tanium packages to be imported in the Tanium platform.</p> <p></p> <p>Tanium package configuration</p> <p>Because OpenBAS should run implants as detached processed, you must uncheck the box \"Launch this package command in a process group\" in the package configuration:</p> <p></p> <p>Once configured and imported, retrieve the package IDs from the URL <code>ui/console/packages/XXXXX/preview</code>.</p>"},{"location":"deployment/executors/#configure-the-openbas-platform","title":"Configure the OpenBAS platform","text":"<p>To use the Tanium executor, just fill the following configuration.</p> Parameter Environment variable Default value Description executor.tanium.enable EXECUTOR_TANIUM_ENABLE <code>false</code> Enable the Tanium executor executor.tanium.url EXECUTOR_TANIUM_URL Tanium URL executor.tanium.api-key EXECUTOR_TANIUM_API-KEY Tanium API key executor.tanium.computer-group-id EXECUTOR_TANIUM_COMPUTER_GROUP_ID Tanium Computer Group to be used in simulations executor.tanium.windows-package-id EXECUTOR_TANIUM_WINDOWS_PACKAGE_ID ID of the OpenBAS Tanium Windows package executor.tanium.unix-package-id EXECUTOR_TANIUM_UNIX_PACKAGE_ID ID of the OpenBAS Tanium Unix package <p>Tanium API Key</p> <p>Please note that the Tanium API key should have the permissions to retrieve endpoint list from the Tanium GraphQL API as well as to launch packages on endpoints.</p>"},{"location":"deployment/executors/#checks","title":"Checks","text":"<p>Once enabled, you should see Tanium available in your <code>Install agents</code> section</p> <p></p> <p>Also, the assets in the selected computer groups should now be available in the endpoints section in OpenBAS:</p> <p></p> <p>NB : An Asset can only have one Tanium agent installed thanks to an unicity with hostname and IP parameters.  If you try to install again a Tanium agent on a platform, it will overwrite the actual one and you will always  see one endpoint on the OpenBAS endpoint page.</p> <p>Installation done</p> <p>You are now ready to leverage your Tanium platform to run OpenBAS payloads!</p>"},{"location":"deployment/executors/#caldera-agent","title":"Caldera Agent","text":"<p>The Caldera agent can be leveraged to execute implants as detached processes that will the execute payloads according to the OpenBAS architecture.</p> <p>Caldera already installed</p> <p>If you already have a working Caldera installation, just go directly to OpenBAS configuration section.</p>"},{"location":"deployment/executors/#deploy-caldera","title":"Deploy Caldera","text":"<p>To deploy Caldera, you can just add Caldera to the OpenBAS stack, we advise you to modify your <code>docker-compose.yml</code> and add a Caldera service:</p> <pre><code>services:\n  caldera:\n    image: openbas/caldera-server:5.0.0\n    restart: always\n    ports:\n      - \"8888:8888\"\n    environment:\n      CALDERA_URL: http://localhost:8888\n    volumes:\n      - type: bind\n        source: caldera.yml\n        target: /usr/src/app/conf/local.yml\n</code></pre> <p>As you can see in the configuration, you will also need a configuration file caldera.yml because Caldera does not support well environment variables for configuration.</p> <p>Download caldera.yml and put it alongside your <code>docker-compose.yml</code> file. This file must be modified prior launching, only change what is marked as Change this, listed below.</p> <pre><code>users:\n  red:\n    red: ChangeMe                                                                     # Change this\n  blue:\n    blue: ChangeMe                                                                    # Change this\napi_key_red: ChangeMe                                                                 # Change this\napi_key_blue: ChangeMe                                                                # Change this\napi_key: ChangeMe                                                                     # Change this\ncrypt_salt: ChangeMe                                                                  # Change this\nencryption_key: ChangeMe                                                              # Change this\napp.contact.http: http://caldera.myopenbas.myorganization.com:8888                    # Change this\napp.contact.tunnel.ssh.user_password: ChangeMe                                        # Change this\n</code></pre> <p>Just update your stack and check Caldera is running:</p> <pre><code>docker compose up -d\n</code></pre>"},{"location":"deployment/executors/#openbas-configuration","title":"OpenBAS configuration","text":"<p>Then, just change the OpenBAS configuration as follow:</p> Parameter Environment variable Default value Description executor.caldera.enable EXECUTOR_CALDERA_ENABLE <code>false</code> Enable the Caldera executor executor.caldera.url EXECUTOR_CALDERA_URL Caldera URL executor.caldera.public-url EXECUTOR_CALDERA_PUBLIC-URL Caldera URL accessible from endpoints (ex: http://caldera.myopenbas.myorganization.com:8888) executor.caldera.api-key EXECUTOR_CALDERA_API-KEY Caldera API key"},{"location":"deployment/executors/#agents","title":"Agents","text":""},{"location":"deployment/executors/#deploy-agents","title":"Deploy agents","text":"<p>Once enabled, you should see Caldera available in your <code>Install agents</code> section:</p> <p></p> <p>OpenBAS has built-in instruction if you want command line examples to deploy the agent on one endpoint.</p> <p></p> <p>Caldera AV detection</p> <p>By default, the Caldera agent \"Sandcat\" is detected and blocked by antivirus. Here, we are using Caldera as a neutral executor that will execute implants that will execute payloads, so you need to add the proper AV exclusions as instructed in the OpenBAS screen.</p> <p></p>"},{"location":"deployment/executors/#checks_1","title":"Checks","text":"<p>All assets with a proper Caldera agent installed using the OpenBAS provided command line (then persistent) should now be available in the OpenBAS endpoints list.</p> <p></p> <p>NB : An Asset can only have one Caldera agent installed thanks to an unicity with hostname and IP parameters. If you try to install again a Caldera agent on a platform, it will overwrite the actual one and you will always see one endpoint on the OpenBAS endpoint page.</p>"},{"location":"deployment/injectors/","title":"Injectors","text":"<p>Tips</p> <p>If you want to learn more about the concept and features of injectors, you can have more info here.</p>"},{"location":"deployment/injectors/#installation","title":"Installation","text":""},{"location":"deployment/injectors/#built-in-injectors","title":"Built-in injectors","text":"<p>Some injectors such as email, SMS, media pressure, etc. are directly embedded into the application. To configure them, just add the proper configuration parameters in your platform configuration. </p>"},{"location":"deployment/injectors/#external-python-injectors","title":"External (Python) injectors","text":""},{"location":"deployment/injectors/#configuration","title":"Configuration","text":"<p>All external injectors have to be able to access the OpenBAS API. To allow this connection, they have 2 mandatory configuration parameters, the <code>OPENBAS_URL</code> and the <code>OPENBAS_TOKEN</code>. In addition to these 2 parameters, injectors have other mandatory parameters that need to be set in order to get them work.</p> <p>Injector tokens</p> <p>You can use your administrator token or create another administrator service account to put in your injectors. It is not necessary to have one dedicated user for each injector.</p> <p>Here is an example of a injector <code>docker-compose.yml</code> file: <pre><code>- OPENBAS_URL=http://localhost\n- OPENBAS_TOKEN=ChangeMe\n- INJECTOR_ID=ChangeMe # Valid UUIDv4\n- \"INJECTOR_NAME=HTTP query\"\n- INJECTOR_LOG_LEVEL=error\n</code></pre></p> <p>Here is an example in a injector <code>config.yml</code> file:</p> <pre><code>openbas:\n  url: 'http://localhost:3001'\n  token: 'ChangeMe'\n\ninjector:\n  id: 'ChangeMe'\n  name: 'HTTP query'\n  log_level: 'info'\n</code></pre>"},{"location":"deployment/injectors/#networking","title":"Networking","text":"<p>Be aware that all injectors are reaching RabbitMQ based the RabbitMQ configuration provided by the OpenBAS platform. The injector must be able to reach RabbitMQ on the specified hostname and port. If you have a specific Docker network configuration, please be sure to adapt your <code>docker-compose.yml</code> file in such way that the injector container gets attached to the OpenBAS Network, e.g.:</p> <pre><code>networks:\n  default:\n    external: true\n    name: openbas-docker_default\n</code></pre>"},{"location":"deployment/injectors/#docker-activation","title":"Docker activation","text":"<p>You can either directly run the Docker image of injectors or add them to your current <code>docker-compose.yml</code> file.</p>"},{"location":"deployment/injectors/#add-an-injector-to-your-deployment","title":"Add an injector to your deployment","text":"<p>For instance, to enable the HTTP query injector, you can add a new service to your <code>docker-compose.yml</code> file:</p> <pre><code>  injector-http-query:\n    image: openbas/injector-http-query:latest\n    environment:\n      - OPENBAS_URL=http://localhost\n      - OPENBAS_TOKEN=ChangeMe\n      - INJECTOR_ID=ChangeMe\n      - \"INJECTOR_NAME=HTTP query\"\n      - INJECTOR_LOG_LEVEL=error\n    restart: always\n</code></pre>"},{"location":"deployment/injectors/#launch-a-standalone-injector","title":"Launch a standalone injector","text":"<p>To launch standalone injector, you can use the <code>docker-compose.yml</code> file of the injector itself. Just download the latest release and start the injector:</p> <pre><code>$ wget https://github.com/OpenBAS-Platform/injectors/archive/{RELEASE_VERSION}.zip\n$ unzip {RELEASE_VERSION}.zip\n$ cd injectors-{RELEASE_VERSION}/http-query/\n</code></pre> <p>Change the configuration in the <code>docker-compose.yml</code> according to the parameters of the platform and of the targeted service. Then launch the injector:</p> <pre><code>$ docker compose up\n</code></pre>"},{"location":"deployment/injectors/#manual-activation","title":"Manual activation","text":"<p>If you want to manually launch injector, you just have to install Python 3 and pip3 for dependencies:</p> <pre><code>$ apt install python3 python3-pip\n</code></pre> <p>Download the release of the injectors:</p> <pre><code>$ wget &lt;https://github.com/OpenBAS-Platform/injectors/archive/{RELEASE_VERSION}.zip&gt;\n$ unzip {RELEASE_VERSION}.zip\n$ cd injectors-{RELEASE_VERSION}/http-query/src/\n</code></pre> <p>Install dependencies and initialize the configuration:</p> <pre><code>$ pip3 install -r requirements.txt\n$ cp config.yml.sample config.yml\n</code></pre> <p>Change the <code>config.yml</code> content according to the parameters of the platform and of the targeted service and launch the injector:</p> <pre><code>$ python3 openbas_http.py\n</code></pre>"},{"location":"deployment/injectors/#injectors-status","title":"Injectors status","text":"<p>The injector status can be displayed in the dedicated section of the platform available in Integration &gt; injectors. You will be able to see the statistics of the RabbitMQ queue of the injector:</p> <p></p> <p>Problem</p> <p>If you encounter problems deploying OpenBAS or injectors, you can consult the troubleshooting page page.</p>"},{"location":"deployment/installation/","title":"Installation","text":"<p>All components of OpenBAS are shipped both as Docker images and manual installation packages.</p> <p>Production deployment</p> <p>For production deployment, we recommend to deploy all components in containers, including dependencies, using native cloud services or orchestration systems such as Kubernetes.</p> <ul> <li> <p> Use Docker</p> <p>Deploy OpenBAS using Docker and the default <code>docker-compose.yml</code> provided in the docker.</p> <p> Setup</p> </li> <li> <p> Manual installation</p> <p>Deploy dependencies and launch the platform manually using the packages released in the GitHub releases.</p> <p> Explore</p> </li> </ul>"},{"location":"deployment/installation/#using-docker","title":"Using Docker","text":""},{"location":"deployment/installation/#introduction","title":"Introduction","text":"<p>OpenBAS can be deployed using the docker compose command.</p>"},{"location":"deployment/installation/#pre-requisites","title":"Pre-requisites","text":"<p> Linux</p> <pre><code>sudo apt install docker-compose\n</code></pre> <p> Windows and MacOS</p> <p>Just download the appropriate Docker for Desktop version for your operating system.</p>"},{"location":"deployment/installation/#clone-the-repository","title":"Clone the repository","text":"<p>Docker helpers are available in the Docker GitHub repository.</p> <pre><code>mkdir -p /path/to/your/app &amp;&amp; cd /path/to/your/app\ngit clone https://github.com/OpenBAS-Platform/docker.git\ncd docker\n</code></pre>"},{"location":"deployment/installation/#configure-the-environment","title":"Configure the environment","text":"<p>Before running the <code>docker compose</code> command, the <code>docker-compose.yml</code> file should be configured. By default, the <code>docker-compose.yml</code> file is using environment variables available in the file <code>.env.sample</code>.</p> <p>You can either rename the file <code>.env.sample</code> in <code>.env</code> and put the expected values or just fill directly the <code>docker-compose.yml</code> with the values corresponding to your environment.</p>"},{"location":"deployment/installation/#docker-compose-env","title":"Docker compose env","text":"<p>Configuration static parameters</p> <p>The complete list of available static parameters is available in the configuration section.</p> <p>Whether you are using one method or the other, here are the mandatory parameters to fill:</p> <pre><code>POSTGRES_USER=ChangeMe\nPOSTGRES_PASSWORD=ChangeMe\nKEYSTORE_PASSWORD=ChangeMe\nMINIO_ROOT_USER=ChangeMeAccess\nMINIO_ROOT_PASSWORD=ChangeMeKey\nRABBITMQ_DEFAULT_USER=ChangeMe\nRABBITMQ_DEFAULT_PASS=ChangeMe\nSPRING_MAIL_HOST=smtp.changeme.com\nSPRING_MAIL_PORT=465\nSPRING_MAIL_USERNAME=ChangeMe@domain.com\nSPRING_MAIL_PASSWORD=ChangeMe\nOPENBAS_MAIL_IMAP_ENABLED=true\nOPENBAS_MAIL_IMAP_HOST=imap.changeme.com\nOPENBAS_MAIL_IMAP_PORT=993\nOPENBAS_ADMIN_EMAIL=ChangeMe@domain.com # Should be a valid email address\nOPENBAS_ADMIN_PASSWORD=ChangeMe\nOPENBAS_ADMIN_TOKEN=ChangeMe # Should be a valid UUI\nCOLLECTOR_MITRE_ATTACK_ID=3050d2a3-291d-44eb-8038-b4e7dd107436 # No need for change\nCOLLECTOR_ATOMIC_RED_TEAM_ID=0f2a85c1-0a3b-4405-a79c-c65398ee4a76 # No need for change\n</code></pre> <p>If your <code>docker-compose</code> deployment does not support <code>.env</code> files, just export all environment variables before launching the platform:</p> <pre><code>export $(cat .env | grep -v \"#\" | xargs)\n</code></pre>"},{"location":"deployment/installation/#persist-data","title":"Persist data","text":"<p>The default for OpenBAS data is to be persistent.</p> <p>In the <code>docker-compose.yml</code>, you will find at the end the list of necessary persistent volumes for the dependencies:</p> <pre><code>volumes:\n  esdata:     # ElasticSearch data\n  s3data:     # S3 bucket data\n  amqpdata:   # RabbitMQ data\n</code></pre>"},{"location":"deployment/installation/#run-openbas","title":"Run OpenBAS","text":""},{"location":"deployment/installation/#using-single-node-docker","title":"Using single node Docker","text":"<p>After changing your <code>.env</code> file run <code>docker compose</code> in detached (-d) mode:</p> <pre><code>sudo systemctl start docker.service\n# Run docker compose in detached\ndocker compose up -d\n</code></pre>"},{"location":"deployment/installation/#using-docker-swarm","title":"Using Docker swarm","text":"<p>In order to have the best experience with Docker, we recommend using the Docker stack feature. In this mode you will have the capacity to easily scale your deployment.</p> <pre><code># If your virtual machine is not a part of a Swarm cluster, please use:\ndocker swarm init\n</code></pre> <p>Put your environment variables in <code>/etc/environment</code>:</p> <pre><code># If you already exported your variables to .env from above:\nsudo cat .env &gt;&gt; /etc/environment\nsudo bash -c 'cat .env &gt;&gt; /etc/environment\u2019\nsudo docker stack deploy --compose-file docker-compose.yml openbas\n</code></pre> <p>Installation done</p> <p>You can now go to http://localhost:8080 and log in with the credentials filled in your configuration.</p>"},{"location":"deployment/installation/#openbas-x-caldera-optional-part","title":"OpenBAS X Caldera (Optional part)","text":"<p>You can deploy Caldera alongside OpenBAS to manage agent deployment and execute Caldera scripts.</p> <ul> <li> <p> Use Docker</p> <p>Deploy OpenBAS using Docker and the default <code>docker-compose.yml</code> provided in the docker.</p> <p> Setup</p> </li> </ul> <p>Before running the <code>docker compose</code> command, the <code>caldera.yml</code> and <code>docker-compose.yml</code> file should be configured. By  default, the <code>docker-compose.yml</code> file is using environment variables available in the file <code>.env.sample</code>.</p> <p>You can either rename the <code>.env.sample</code> file for <code>.env</code> and enter the required values, or directly update the <code>docker-compose.yml</code> file with the values specific to your environment.</p>"},{"location":"deployment/installation/#caldera","title":"Caldera","text":"<p>Unfortunately, Caldera does not support well environment variables, we have packaged it but the <code>caldera.yml</code> needs to  be modified to change default API keys and passwords. Only change what is marked as Change this, listed below:</p> <p>Caldera application</p> <p>You will never be asked to go into Caldera directly because OpenBAS manages everything for you, so don't hesitate to put the same UUIDv4 in all parameters here.</p> <pre><code>users:\n  red:\n    red: ChangeMe                                                                     # Change this\n  blue:\n    blue: ChangeMe                                                                    # Change this\napi_key_red: ChangeMe                                                                 # Change this\napi_key_blue: ChangeMe                                                                # Change this\napi_key: ChangeMe                                                                     # Change this\ncrypt_salt: ChangeMe                                                                  # Change this\nencryption_key: ChangeMe                                                              # Change this\napp.contact.http: http://caldera.myopenbas.myorganization.com:8888                    # Change this\napp.contact.tunnel.ssh.user_password: ChangeMe                                        # Change this\n</code></pre>"},{"location":"deployment/installation/#docker-compose-env_1","title":"Docker compose env","text":"<p>Configuration static parameters</p> <p>The complete list of available static parameters is available in the configuration section.</p> <p>Whether you are using one method or the other, here are the mandatory parameters to fill:</p> <pre><code>POSTGRES_USER=ChangeMe\nPOSTGRES_PASSWORD=ChangeMe\nKEYSTORE_PASSWORD=ChangeMe\nMINIO_ROOT_USER=ChangeMeAccess\nMINIO_ROOT_PASSWORD=ChangeMeKey\nRABBITMQ_DEFAULT_USER=ChangeMe\nRABBITMQ_DEFAULT_PASS=ChangeMe\nSPRING_MAIL_HOST=smtp.changeme.com\nSPRING_MAIL_PORT=465\nSPRING_MAIL_USERNAME=ChangeMe@domain.com\nSPRING_MAIL_PASSWORD=ChangeMe\nOPENBAS_MAIL_IMAP_HOST=imap.changeme.com\nOPENBAS_MAIL_IMAP_PORT=993\nOPENBAS_ADMIN_EMAIL=ChangeMe@domain.com\nOPENBAS_ADMIN_PASSWORD=ChangeMe\nOPENBAS_ADMIN_TOKEN=ChangeMe # Should be a valid UUID\nCALDERA_URL=http://caldera:8888 # Change me for production deployment to something accessible from your OpenBAS\nCALDERA_PUBLIC_URL=http://localhost:8888 # Change me for production deployment to something accessible from your endpoint(s)\nCALDERA_API-KEY=ChangeMe # Should be the same as api_key in your caldera.yml file\nCOLLECTOR_MITRE_ATTACK_ID=3050d2a3-291d-44eb-8038-b4e7dd107436 # No need for change\nCOLLECTOR_ATOMIC_RED_TEAM_ID=0f2a85c1-0a3b-4405-a79c-c65398ee4a76 # No need for change\nINJECTOR_CALDERA_ENABLE=false\nEXECUTOR_CALDERA_ENABLE=false\nCOLLECTOR_CALDERA_ENABLE=false\nCOLLECTOR_CALDERA_ID=ChangeMe # Should be a valid UUID\n</code></pre> <p>If your <code>docker-compose</code> deployment does not support <code>.env</code> files, just export all environment variables before launching the platform:</p> <pre><code>export $(cat .env | grep -v \"#\" | xargs)\n</code></pre>"},{"location":"deployment/installation/#login-to-caldera","title":"Login to Caldera","text":"<p>To connect to Caldera, you need to use one of the users defined in your <code>caldera.yml</code> file (either 'red' or 'blue').  OpenBAS will use the red user.</p>"},{"location":"deployment/installation/#manual-installation","title":"Manual installation","text":""},{"location":"deployment/installation/#prepare-the-installation","title":"Prepare the installation","text":""},{"location":"deployment/installation/#installation-of-dependencies","title":"Installation of dependencies","text":"<p>You have to install all the needed dependencies for the main application if you would like to play breach and attack  simulation scenarios. The example below is for Ubuntu:</p> <pre><code>sudo apt install openjdk-22-jre\n</code></pre>"},{"location":"deployment/installation/#download-the-application-files","title":"Download the application files","text":"<p>First, you have to download and extract the latest release file.</p> <pre><code>mkdir /path/to/your/app &amp;&amp; cd /path/to/your/app\nwget &lt;https://github.com/OpenBAS-Platform/openbas/releases/download/{RELEASE_VERSION}/openbas-release-{RELEASE_VERSION}.tar.gz&gt;\ntar xvfz openbas-release-{RELEASE_VERSION}.tar.gz\n</code></pre>"},{"location":"deployment/installation/#install-the-main-platform","title":"Install the main platform","text":""},{"location":"deployment/installation/#configure-the-application","title":"Configure the application","text":"<p>The main application has just one environment configuration file to change.</p> <pre><code>cd openbas\n</code></pre> <p>Change the application.properties file according to your configuration of PostgreSQL, RabbitMQ, Minio and to your platform.</p>"},{"location":"deployment/installation/#start-the-application","title":"Start the application","text":"<p>Start the Application:</p> <pre><code>java -jar openbas-api.jar\n</code></pre> <p>Installation done</p> <p>You can now go to http://localhost:8080 and log in with the credentials configured in your <code>application.properties</code> file.</p>"},{"location":"deployment/installation/#community-contributions","title":"Community contributions","text":""},{"location":"deployment/installation/#helm-charts","title":"Helm Charts","text":"<ul> <li> <p> Kubernetes Helm Charts</p> <p>OpenBAS Helm Charts for Kubernetes with a global configuration file. More information how to deploy here on basic installation and examples.</p> <p> GitHub Repository</p> </li> </ul>"},{"location":"deployment/installation/#deploy-behind-a-reverse-proxy","title":"Deploy behind a reverse proxy","text":"<p>If you want to use OpenBAS behind a reverse proxy with a context path, like <code>https://domain.com/openbas</code>, please change the <code>base_path</code> static parameter.</p> <ul> <li><code>APP__BASE_PATH=/openbas</code></li> </ul> <p>By default OpenBAS use websockets so don't forget to configure your proxy for this usage, an example with <code>Nginx</code>:</p> <pre><code>location / {\n    proxy_cache                 off;\n    proxy_buffering             off;\n    proxy_http_version          1.1;\n    proxy_set_header Upgrade    $http_upgrade;\n    proxy_set_header Connection \"upgrade\";\n    proxy_set_header Host       $host;\n    chunked_transfer_encoding   off;\n    proxy_pass                  http://YOUR_UPSTREAM_BACKEND;\n  }\n</code></pre>"},{"location":"deployment/installation/#additional-memory-information","title":"Additional memory information","text":"<p>OpenBAS platform is based on a JAVA runtime. The application needs at least 4GB of RAM to work properly.</p>"},{"location":"deployment/installation/#postgresql","title":"PostgreSQL","text":"<p>PostgreSQL is the main database of OpenBAS. You can find more information in the official PostgresQL documentation.</p>"},{"location":"deployment/installation/#minio","title":"MinIO","text":"<p>MinIO is a small process and does not require a high amount of memory. More information are available for Linux here on the Kernel tuning guide.</p>"},{"location":"deployment/integrations/","title":"Integrations","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"deployment/overview/","title":"Overview","text":"<p>Before starting the installation, let's discover how OpenBAS is working, which dependencies are needed and what are the minimal requirements to deploy it in production.</p>"},{"location":"deployment/overview/#architecture","title":"Architecture","text":"<p>The OpenBAS platform relies on several external databases and services in order to work.</p> <p></p>"},{"location":"deployment/overview/#platform","title":"Platform","text":"<p>The platform is the central part of the OpenBAS platform, allowing users to configure scenarios, simulations, atomic testings and all other components used in the context of breach and attack simulations and security validations.</p>"},{"location":"deployment/overview/#neutral-agents-executors","title":"Neutral agents / executors","text":"<p>Executors are embedded into the platform but you should configure at least one. It is the system that will be used to execute local injectors on endpoints. Currently we support Caldera (default) and Tanium but multiple will be added in the near future including a home-made XTM agent (by Filigran). </p> <p>Required executor</p> <p>Executors are responsible of executing endpoint payload injectors. To use them, you have to have at least one executor / neutral agent enabled. Injectors that require executors are marked in red in the OpenBAS Ecosystem. </p>"},{"location":"deployment/overview/#injectors","title":"Injectors","text":"<p>Injects are used to interact with third-party applications or services (including execution on the endpoints through executors) in the context of a simulation or an atomic testing. A few injectors are built-in but most of them are standalone Python processes. </p> <p>List of injectors</p> <p>You can find all currently available injectors in the OpenBAS Ecosystem.</p>"},{"location":"deployment/overview/#collectors","title":"Collectors","text":"<p>Collectors are used to connect to all security systems such as SIEMs, XDRs, EDRs, firewalls, mail gateways etc. to check if an inject (execution, emails, etc.) has been detected or prevented and fill the security posture. </p> <p>List of collectors</p> <p>You can find all currently available collectors in the OpenBAS Ecosystem.</p>"},{"location":"deployment/overview/#infrastructure-requirements","title":"Infrastructure requirements","text":""},{"location":"deployment/overview/#dependencies","title":"Dependencies","text":"Component Version CPU RAM Disk type Disk space PostgreSQL \u2265 16.0 2 cores \u2265 8GB SSD \u2265 16GB RabbitMQ &gt;= 3.11 1 core \u2265 512MB Standard \u2265 2GB S3 / MinIO \u2265 RELEASE.2023-02 1 core \u2265 128MB SSD \u2265 16GB"},{"location":"deployment/overview/#platform_1","title":"Platform","text":"Component CPU RAM Disk type Disk space OpenBAS Core 2 cores \u2265 8GB None (stateless) - Injector(s) 1 core \u2265 128MB None (stateless) - Collector(s) 1 core \u2265 128MB None (stateless) -"},{"location":"deployment/resources/","title":"Resources","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"deployment/troubleshooting/","title":"Troubleshooting","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"deployment/upgrade/","title":"Upgrade","text":"<p>Depending on your installation mode, upgrade path may change.</p> <p>Migrations</p> <p>The platform is taking care of all necessary underlying migrations in the databases if any, you can upgrade OpenBAS from any version to the latest one, including skipping multiple major releases.</p>"},{"location":"deployment/upgrade/#using-docker","title":"Using Docker","text":"<p>Before applying this procedure, please update your <code>docker-compose.yml</code> file with the new version number of container images.</p>"},{"location":"deployment/upgrade/#for-single-node-docker","title":"For single node Docker","text":"<pre><code>$ sudo docker compose stop\n$ sudo docker compose pull\n$ sudo docker compose up -d\n</code></pre>"},{"location":"deployment/upgrade/#for-docker-swarm","title":"For Docker swarm","text":"<p>For each of services, you have to run the following command:</p> <pre><code>$ sudo docker service update --force service_name\n</code></pre>"},{"location":"deployment/upgrade/#manual-installation","title":"Manual installation","text":"<p>When upgrading the platform, you have to replace all files and restart the platform, the database migrations will be done automatically:</p> <pre><code>$ java -jar openbas-api.jar\n</code></pre>"},{"location":"development/api-usage/","title":"REST API","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"development/environment_ubuntu/","title":"Prerequisites Ubuntu","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"development/environment_windows/","title":"Prerequisites Windows","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"development/injectors/","title":"Injector development","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"development/platform/","title":"Platform development","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"reference/apis/filters/","title":"Filter knowledge","text":"<p>In OpenBAS, you can filter data to focus on or display information with specific attributes.</p>"},{"location":"reference/apis/filters/#filters-usages","title":"Filters usages","text":""},{"location":"reference/apis/filters/#dynamic-filters","title":"Dynamic filters","text":"<p>Dynamic filters allow you to filter the UI view based on the attributes present in the data, such as the list of scenarios or simulations.</p> <p>These filters are not stored in the database. However, they remain persistent on the frontend of the platform. Your web browser saves the filters you set in different areas of the platform in local storage, allowing you to retrieve them when you return to the same view. This way, you can continue working from where you left off.</p> <p>Additionally, the filters applied in a view are saved as URL parameters, enabling you to save and share links to these filtered views.</p> <p></p>"},{"location":"reference/apis/filters/#create-a-filter","title":"Create a filter","text":"<p>To create a filter, add every key you need using the 'Add filter' select box. It will give you the possible attributes on which you can filter in the current view.</p> <p>A grey box appears and allows to select:</p> <ol> <li>the operator to use, and</li> <li>the values to compare (if the operator is not \"empty\" or \"not empty\").</li> </ol> <p>You can add as many filters as you need.</p> <p></p> <p>The boolean modes (and/or) are global (between every attribute filters) and can be switched with a single click, changing the logic of your filtering.</p> <p></p>"},{"location":"reference/apis/filters/#filters-format","title":"Filters format","text":"<p>The OpenBAS platform uses a filter format called <code>FilterGroup</code>. The <code>FilterGroup</code> model enables to do complex filters imbrication with different boolean operators, which extends greatly the filtering capabilities in every part of the platform.</p>"},{"location":"reference/apis/filters/#structure","title":"Structure","text":"<p>The format can be described as below:</p> <pre><code>{\n  \"filterGroup\": {\n    \"mode\": \"and\",\n    // or \"or\"\n    \"filters\": [\n      {\n        \"key\": \"name\",\n        \"mode\": \"or\",\n        // or \"and\"\n        \"values\": [\n          \"value1\",\n          \"value2\"\n        ],\n        \"operator\": \"contains\"\n        // or \"not_contains\", \"eq\", \"not_eq\", \"starts_with\", \"not_starts_with\",\n        // \"empty\", \"not_empty\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/apis/filters/#properties","title":"Properties","text":"<p>In a given filter group, the <code>mode</code> (<code>and</code> or <code>or</code>) represents the boolean operation between the different <code>filters</code> and <code>filterGroups</code> arrays. The <code>filters</code> and <code>filterGroups</code> arrays are composed of objects of type Filter and FilterGroup.</p> <p>The <code>Filter</code> has 4 properties:</p> <ul> <li>a <code>key</code>, representing the kind of data we want to target (example: <code>tags</code> to filter on tags or <code>name</code> to   filter on the data's name),</li> <li>an array of <code>values</code>, representing the values we want to compare to,</li> <li>an <code>operator</code> representing the operation we want to apply between the <code>key</code> and the <code>values</code>,</li> <li>a <code>mode</code> (<code>and</code> or <code>or</code>) to apply between the values if there are several ones.</li> </ul>"},{"location":"reference/apis/filters/#operators","title":"Operators","text":"<p>The available operators are:</p> Value Meaning contains contains not_contains not contains eq equal not_eq different empty empty / no value not_empty non-empty / any value <p>In addition, there are operators:</p> <ul> <li><code>starts_with</code> / <code>not_starts_with</code>, available for searching in short string fields (name, value, title, etc.),</li> </ul>"},{"location":"usage/assets/","title":"Assets","text":"<p>The Assets section provides users with a centralized hub for managing and organizing the entities targeted for testing and simulation.</p> <p>When you click on \u201cAssets\u201d in the left-hand banner, you see all the \u201cAssets\u201d pages. When accessing the Assets section, users are directed by default to the Endpoints page, where they can start managing their assets.</p> <p>From the <code>Assets</code> section, users can access the following pages:</p> <ul> <li><code>Endpoints</code>: Individual entities, representing any object or terminal that can be connected to a network.</li> <li><code>Asset groups</code>: Group of asset allowing you to organize endpoints into logical groups based on various filters applied   by the user.</li> </ul>"},{"location":"usage/assets/#endpoints","title":"Endpoints","text":"<p>Endpoints encompass devices and systems that connect to a network, serving as the foundation for interaction with OpenBAS.</p> <p>The list of endpoints continues to grow with the changing landscape of networked technologies and the increasing interconnectivity of digital ecosystems. Below is a non-exhaustive list of terminal categories:</p> <ul> <li>Computers: This category encompasses a wide range of computing devices, including desktops, laptops, and servers   deployed within organizational networks.</li> <li>Mobile devices: Smartphones and tablets represent another prominent category of endpoints, providing users with   mobile access to network resources and services.</li> <li>Workstations: Workstations refer to terminals or dedicated machines utilized by individuals or groups to perform   specific tasks or access networked resources. These systems are typically tailored to meet specific operational   requirements and may include specialized software or configurations.</li> <li>IoT devices: The Internet of Things (IoT) encompasses a diverse array of interconnected devices and sensors. IoT   endpoints include smart thermostats, cameras, environmental sensors, smart watches, and health tracking devices, among   others.</li> </ul> <p>When accessing the Endpoints pages, you see the list of all endpoints imported in your platform. Here, users can create and manage details specific to each endpoint.</p> <p>Assets can be imported with the help of specific Collectors, like Microsoft Entra.</p> <p></p>"},{"location":"usage/assets/#asset-groups","title":"Asset groups","text":"<p>Asset groups serve as a mechanism for organizing and grouping related Endpoints. These groups are constructed based on filters that define the criteria for inclusion, allowing administrators to segment and categorize Endpoints based on common characteristics or attributes.</p> <p>When creating a new asset group, administrators have the flexibility to specify the filters that will delineate the group's membership. Currently, the platform offers a range of filters such as platform type, hostname, and IP addresses. We plan to extend the possibilities by including additional filters in future updates.</p> <p></p>"},{"location":"usage/assets/#security-platforms","title":"Security platforms","text":"<p>Some integrations in OpenBAS are connected to your security platforms, such as Microsoft Sentinel, Microsoft Defender, etc., and can be viewed on this screen.</p> <p>OpenBAS strives to support as many integrations as possible with the most popular tools on the market. However, if your security platform integration is not yet available, you can create it manually here.</p> <p></p>"},{"location":"usage/atomic/","title":"Atomic testing","text":"<p>Under construction</p> <p>We are doing our best to complete this page.  If you want to participae, dont hesitate to join the Filigran Community on Slack  or submit your pull request on the Github doc repository.</p> <p>When clicking on Atomic testing in the left menu, you access to the list of all atomic testings ever launched in the platform.</p> <p>Atomic testing is a great way to simulate a singular attack technique you are particulary interested in, and test immediately your capability to prevent and detect it.</p> <p>You can search for a specific one by name.</p> <p>The presented list allows you to easily see global scores of all your recent atomic testings.</p> <p></p>"},{"location":"usage/atomic/#create-an-atomic-testing","title":"Create an Atomic testing","text":"<p>An atomic testing is essentially the simulation of a single inject, against a selection of targets (Players, Teams, Assets, Assets Group) with assorted expectations.</p> <p>By clicking on the + button at the bottom right of the screen, you enter the atomic testing creation workflow.</p> <p>On the left of the creation screen is the list of all available Inject you can play for atomic testing. Logos on the left of each line indicates which Injector is associated with each inject.</p> <p>Depending on your integrations, this list can be long. You can filter the list by compatible platforms or by Mitre Att&amp;ck tactics.By clicking on the \"Att&amp;CK\" logo near the search bar, you can also filter by selecting a precise Mitre Att&amp;ck techniques.</p> <p>When selecting an inject on the left, the form on the right populates itself with a by-default title and propose you to define when the inject should be played after the launch of the atomic testing. You can keep it to 0.</p> <p>By clicking on Inject content, you can define now or later the targeted assets or players, needed configurations, and the assorted expectations.</p> <p>The \"available variables\" button helps you to use already defined variables into compatible fields.</p>"},{"location":"usage/atomic/#atomic-testing-screens","title":"Atomic testing screens","text":"<p>Details of an Atomic testing is composed of three parts: - a header allowing to launch the test, see its state and update/delete it. - an Overview screen to eaily see the results of the test. - an execution details screen to see expectations of the test and investigate on execution logs</p>"},{"location":"usage/atomic/#overview","title":"Overview","text":"<p>The first screen displayed when you click on a specific Atomic testing from the list is a breakdown of your security posture against this test. </p> <p>As for Simulation and Scenario, Results are broken down into: - Prevention: the ability of your security posture to prevent the inject - Detection: the ability of your security posture to detect the inject - Human response: the ability of your security teams to react as intented facing the inject</p> <p>Big metrics on top of the screen sum up the expectations' result of all targets. </p> <p>The list of targets on the left allows you to easily see the result per Target, and for example investigate further why a specific Asset have failed the test.</p> <p>For a selected target, you can on the right the timeline of the test against the target and the assorted results. The result logs are also displayed.</p> <p></p>"},{"location":"usage/atomic/#execution-details","title":"Execution details","text":"<p>On this screen, you can retrieve details about the configuration, the command lines (if relevant) and the execution logs of the atomic testing and its expectations.</p> <p>You can also see the raw execution logs of the Injector responsible for the test execution.</p> <p></p>"},{"location":"usage/collector-caldera/","title":"Caldera collector","text":"<p>The integration between an OpenBAS instance and a Caldera instance allows you to enrich assets data.</p>"},{"location":"usage/collector-caldera/#configuration-variables","title":"Configuration variables","text":"<p>Below are the properties you'll need to set for OpenBAS:</p> Property application.properties Docker environment variable Mandatory Description Enable Caldera collector collector.caldera.enable <code>COLLECTOR.CALDERA.ENABLE</code> Yes Enable the Caldera collector. Collector ID collector.caldera.id <code>COLLECTOR.CALDERA.ID</code> Yes The ID of the collector. Caldera URL collector.caldera.url <code>COLLECTOR.CALDERA.URL</code> Yes The URL of the Caldera instance. Caldera API Key collector.caldera.api-key <code>COLLECTOR.CALDERA.API-KEY</code> Yes The API Key for the rest API of the Caldera instance. Caldera polling interval collector.caldera.interval <code>COLLECTOR.CALDERA.INTERVAL</code> No The time interval in seconds where the collect is triggered. Default is 60 seconds."},{"location":"usage/collector-caldera/#behavior","title":"Behavior","text":"<p>Each interval, a job retrieves the deployed agents on Caldera and populates the OpenBAS database by creating Assets.</p> <p>Deduplication is done thanks to the caldera <code>paw</code> property :</p> <ul> <li>if there is no asset on OpenBAS based on this <code>paw</code>, a new asset is created</li> <li>if there is an asset on OpenBAS based on this <code>paw</code> and the source of creation is only Caldera, this asset is updated</li> </ul> <p>There is no automatic deletion of OpenBAS assets if Caldera agents no longer exist.</p>"},{"location":"usage/collector-caldera/#mapping","title":"Mapping","text":"Agent Property Asset Property paw externalId paw name host_ip_addrs ips platform platform last_seen lastSeen"},{"location":"usage/collectors/","title":"Collectors","text":"<p>Collectors list</p> <p>You are looking for the available collectors? The list is in the OpenBAS Ecosystem.</p>"},{"location":"usage/collectors/#introduction","title":"Introduction","text":"<p>Collectors are one of the cornerstones of the OpenBAS platform, they are responsible for pulling data from various external services for two purposes:</p> <ul> <li>Collect all alerts, logs and traces related to attacks, incidents or crisis and match them to simulated injects to   evaluate the security posture.</li> <li>Collect any data that may help to schedule breach and attack simulations such as list of assets, groups, identities,   payloads, etc.</li> </ul>"},{"location":"usage/collectors/#detection-prevention-siem-xdr-edr-ndr","title":"\ud83d\udee1\ufe0f Detection &amp; Prevention (SIEM, XDR, EDR, NDR)","text":"<p>Those collectors are the most important ones as they are used to evaluate the security posture (response to injects) from various detection and response systems and fulfill expectations for detection and prevention.</p>"},{"location":"usage/collectors/#detection-prevention-with-edr","title":"Detection &amp; Prevention with EDR","text":"<p>For EDRs, we analyze the tool's logs to identify matches for the hostname and the parent process name associated with the attack. If the attack is initiated by the OpenBAS agent, the parent process name will follow this format: openbas-implant-INJECT_ID.exe.</p>"},{"location":"usage/collectors/#detection-prevention-with-siem","title":"Detection &amp; Prevention with SIEM","text":"<p>For SIEMs, we rely on the upstream-deployed EDR, whose logs are collected by the SIEM. If the EDR confirms an expectation of type detection or prevention, we trace this information back in the SIEM to validate it as well.</p> <p>This means that within the workflow, the EDR collector must first validate the expectation before the SIEM collector can perform its task.</p>"},{"location":"usage/collectors/#threat-intelligence","title":"\ud83e\uddec Threat Intelligence","text":"<p>Those collectors are used to collect threat intelligence data such as kill chains, scenarios, TTPs, payloads, etc.</p>"},{"location":"usage/collectors/#endpoint-management","title":"\ud83d\udcfa Endpoint management","text":"<p>Those collectors are pulling alternative information about your endpoints and assets to complete the overview about your current posture in terms of vulnerabilities and compliance.</p>"},{"location":"usage/collectors/#identities","title":"\ud83c\udfad Identities","text":"<p>Those collectors are pulling all information related to identities, including human assets, to be used in scenario or to complete the view overview about your current posture.</p>"},{"location":"usage/collectors/#others","title":"\ud83d\udd2d Others","text":"<p>All other system OpenBAS can pull from, to add more meaningful and relevant information to the view of your security posture.</p>"},{"location":"usage/components/","title":"Components","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/expectations/","title":"Expectations","text":"<p>Expectations define what is expected from an Asset (endpoint) or a Players when facing an Inject in terms of security posture. Each expectation has a score representing how well it has been met by the target.</p>"},{"location":"usage/expectations/#expectation-types","title":"Expectation types","text":"<p>Expectations can be categorized as either Manual or Automatic, depending on how they are validated.</p>"},{"location":"usage/expectations/#manual-expectations","title":"Manual expectations","text":"<p>Manual expectations require manual validation by the animation team, with the validation process and scoring managed manually. They are simple, customizable expectations to be manually validated.</p>"},{"location":"usage/expectations/#automatic-expectations","title":"Automatic expectations","text":"<p>Automatic expectations are validated automatically under specific conditions. Currently available automatic expectations include:</p> <ul> <li><code>Automatic - Prevention: Triggered when inject is processed</code>: automatically validated by security integration with   compatible Collectors if the inject's action generates a prevention alert, such as quarantine.</li> <li><code>Automatic - Detection: Triggered when inject is processed</code>: automatically validated by security integration with   compatible Collectors if the inject's action generates a detection alert, such as an incident.</li> <li><code>Automatic - Triggered when target reads articles</code>: Automatically validated when the article of a Media pressure inject   has been read by targets.</li> </ul>"},{"location":"usage/expectations/#validation-mode","title":"Validation Mode","text":"<p>There are two modes for validating an expectation :</p> <ul> <li> <p><code>All targets (per group) must validate the expectation</code> : in this case, the result depends on every group member's performance. If one target fails, the entire team fails. The score is calculated as the average of all targets' scores.</p> </li> <li> <p><code>At least one target (per group) must validate the expectation</code> : here, the success of the group depends on at least one target succeeding. If one target succeeds, the group is considered successful. The score is an average of all successful targets' scores.</p> </li> </ul> <p></p>"},{"location":"usage/expectations/#expectation-manipulation","title":"Expectation manipulation","text":""},{"location":"usage/expectations/#add-an-expectation-to-an-inject","title":"Add an expectation to an Inject","text":"<p>To add expectations to an inject, navigate to the inject's content and click on \"Add expectations\". From there, select the type of expectation you want to add and set a score for it.</p> <p>You can add multiple expectations to a single inject.</p>"},{"location":"usage/expectations/#validate-a-manual-expectation","title":"Validate a manual expectation","text":"<p>If you have configured manual expectations in your scenario, you will have the opportunity to handle manual validations during each simulation. During a Simulation, navigate to the Animation tab, under the Validation screen. Here, you'll find a list of expectations that require manual validation.</p>"},{"location":"usage/expectations/#customize-expectations","title":"Customize expectations","text":""},{"location":"usage/expectations/#default-score","title":"Default score","text":"<p>Expectations have a default score at creation. Depending on the expectation's type, there is a default score value set in the system.</p> <ul> <li>In the Docker .env file thanks to these variables</li> </ul> Parameter Environment variable Default value Description openbas.expectation.manual.default-score-value OPENBAS_EXPECTATION_MANUAL_DEFAULT-SCORE-VALUE 50 Default score value for manual expectation"},{"location":"usage/expectations/#expiration-time","title":"Expiration time","text":"<p>Expectations results must be validated within a time limit. Depending on the expectation's type, there is a default expiration time set in the system. You have two ways to modify that expiration time:</p> <ul> <li>In the Docker .env file thanks to these variables</li> </ul> Parameter Environment variable Default value Description openbas.expectation.technical.expiration-time OPENBAS_EXPECTATION_TECHNICAL_EXPIRATION-TIME 21600 Expiration time for Technical expectation (detection &amp; prevention) openbas.expectation.detection.expiration-time OPENBAS_EXPECTATION_DETECTION_EXPIRATION-TIME 21600 Expiration time for detection expectation openbas.expectation.prevention.expiration-time OPENBAS_EXPECTATION_PREVENTION_EXPIRATION-TIME 21600 Expiration time for prevention expectation openbas.expectation.human.expiration-time OPENBAS_EXPECTATION_HUMAN_EXPIRATION-TIME 86400 Expiration time for human expectation (manual, challenge &amp; article) openbas.expectation.challenge.expiration-time OPENBAS_EXPECTATION_CHALLENGE_EXPIRATION-TIME 86400 Expiration time for challenge expectation openbas.expectation.article.expiration-time OPENBAS_EXPECTATION_ARTICLE_EXPIRATION-TIME 86400 Expiration time for article expectation openbas.expectation.manual.expiration-time OPENBAS_EXPECTATION_MANUAL_EXPIRATION-TIME 86400 Expiration time for manual expectation <p>A default expiration time is set for technical and human expectations. Users can override them for each type of expectations.</p> <ul> <li>In the UI</li> </ul> <p></p> <p>When creating an expectation, users can set an expiration time. The system's default times are set on the form and users decide to override it.</p>"},{"location":"usage/getting-started/","title":"Getting started","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p> <p>This guide aims to give you a full overview of the OpenBAS features and workflows. The platform can be used in various contexts to handle Breach and Attack simulations at technical or strategical levels. OpenBAS has been designed as a part of the Filigran XTM suite and can be integrated with OpenCTI to generate meaningful attack scenarios based on real threat. OpenBAS is result-oriented with many dashboards helping you to evaluate you security posture given a defined context.</p> <p>Here are some examples of use cases:</p> <ul> <li>Designing attack scenario based on real threat</li> <li>Evaluate your security posture against technical simulations on endpoints</li> <li>Enhance team skills by evaluating them during simulations along with your security systems</li> <li>Organize Capture The Flag with multiple challenges</li> <li>Conduct atomic testing</li> </ul>"},{"location":"usage/getting-started/#home-screen","title":"Home screen","text":"<p>The Home screen provides every OpenBAS platform visitor with a snapshot of the platform activity as well as an overview  of your global security posture. You can find more information in this section.</p>"},{"location":"usage/getting-started/#your-first-breach-and-attack-simulation","title":"Your first Breach and Attack Simulation","text":""},{"location":"usage/getting-started/#importing-players-and-assets-to-play-with","title":"Importing players and assets to play with","text":"<p>First, you need to import Players and Assets that will participate to the simulation and be targeted by technical or strategical events. To do so, you need to ...</p>"},{"location":"usage/getting-started/#integrate-with-simulation-agent-to-simulate-technical-events","title":"Integrate with Simulation Agent to simulate technical events","text":"<p>If you want to simulate attack at a technical level, you will need to install a Simulation Agent that will play technical events on your imported assets. To do so, you can go to the dedicated panel from the top right button and follow installation instructions. By default, Caldera is part of the OpenBAS stack.</p> <p></p> <p>The Caldera agent will allow you to play various technical events, based on the Mitre ATT&amp;CK matrix.</p>"},{"location":"usage/getting-started/#building-your-scenario","title":"Building your Scenario","text":"<p>Once integrations is done, you are ready to create your first Scenario!</p> <p>Scenarios act as template for your Breach and Attack simulations. After establishing such a template, you will be able to schedule it as a one shot simulation, or as a recurring one.</p> <ul> <li>First, go to the Scenarios menu and create a new one with the + button.</li> <li>Once done, define Teams that will be playing in this Scenario by going to   the Definition/Teams tab</li> <li>Now go to the Injects tab and add some to build the serie of events that will define the core of your   Scenario. If you want to stay strategical, you can select inject like \"Send individual mails\". If you want to go   technical, you can select injects linked to attack pattern (Caldera integration allows you to play hundreds of them).</li> <li>Then, define who or what will be targeted by those injects, customize them, and define what is expected   to happen. For example, you expect the targeted team to perform a specific action and the animation team will   validated this expectation manually. Or, you expect the technical event to be prevented and it will be automatically   checked through your integrations with your security systems.</li> <li>Do not forget to define when the inject is played in the scenario chronology.</li> </ul> <p>Optionally, you can enhance your scenario by adding Documents, Media pressures, or even CTF Challenges to your injects.</p>"},{"location":"usage/getting-started/#play-the-simulation","title":"Play the simulation","text":"<p>You can now schedule your Simulation by hitting the blue \"Simulate now\" button. Choose your moment and hit start.</p> <p>On time, a Simulation based on your Scenario template is generated. It is listed in your Scenario overview and in the Simulations menu. From there, you can follow the course of the Simulation and interact with it, for example to validate manual expectations.</p> <p>During the course of the simulation, results are updated and can be consulted in the Simulation overview.</p>"},{"location":"usage/getting-started/#evaluate-your-security-posture","title":"Evaluate your security posture","text":"<p>Results in OpenBAS are based on expectations' results that are linked to injects played during Simulations. It is then important to manually validate expectations that need it.</p> <p>Results are broken down by \"Prevention\", \"Detection\" and \"Human response\" metrics.</p> <ul> <li>Prevention displays your ability to prevent the scenario's technical events to be completed</li> <li>Detection displays your ability to detect the scenario's technical events</li> <li>HUman response displays how well players and teams react as expected facing the scenario's events.</li> </ul>"},{"location":"usage/inject-caldera/","title":"Caldera injects","text":"<p>The Caldera framework, developed by MITRE, is a powerful framework designed to simulate cyberattacks. It enables security teams to conduct realistic and controlled simulations of adversary behavior, reducing the amount of time and resources needed for routine cybersecurity testing.</p>"},{"location":"usage/inject-caldera/#injects","title":"Injects","text":"<p>In OpenBAS, the Caldera framework has been fully integrated, offering users access to a comprehensive library of injects for conducting simulation exercises. With this integration, users can leverage the extensive capabilities of Caldera within OpenBAS.</p> <p>Caldera offers 1600+ abilities, covering the full range of ATT&amp;CK tactics and techniques. These capabilities equip security teams with an extensive toolkit to simulate various threats and assess defense mechanisms effectively.</p>"},{"location":"usage/inject-caldera/#behavior","title":"Behavior","text":"<p>Injects within the Caldera framework can be played on both individual Endpoints and Asset groups. Prior to playing injects, Caldera agents need to be installed on the target machines to enable interaction with the platform.</p> <p>Once the agents are deployed, simulations with Caldera injects can be executed. The platform will contact the Agent to start the ability. Subsequently, the agents will report the results to OpenBAS. Below is the workflow illustrating the behavior of injects.</p> <p></p>"},{"location":"usage/inject-caldera/#configuration-variables","title":"Configuration variables","text":"<p>Below are the properties you'll need to set for OpenBAS:</p> Property application.properties Docker environment variable Mandatory Description Enable Caldera collector injector.caldera.enable <code>INJECTOR_CALDERA_ENABLE</code> Yes Enable the Caldera injector. Injector ID injector.caldera.id <code>INJECTOR_CALDERA_ID</code> Yes The ID of the injector. Collector IDs injector.caldera.collector-ids <code>INJECTOR_CALDERA_COLLECTOR_IDS</code> Yes The collector IDs compatible with the injection process. Caldera URL injector.caldera.url <code>INJECTOR_CALDERA_URL</code> Yes The URL of the Caldera instance. Caldera API Key injector.caldera.api-key <code>INJECTOR_CALDERA_API-KEY</code> Yes The API Key for the rest API of the Caldera instance."},{"location":"usage/injectors/","title":"Injectors","text":"<p>Injectors list</p> <p>You are looking for the available injectors? The list is in the OpenBAS Ecosystem.</p>"},{"location":"usage/injectors/#introduction","title":"Introduction","text":"<p>Injectors are one of the cornerstones of the OpenBAS platform, they are responsible for pushing simulation actions to third party systems. According to their functionality and use case, they are categorized in the following classes.</p> <p></p>"},{"location":"usage/injectors/#endpoint-payloads-execution","title":"\ud83d\udce1 Endpoint payloads execution","text":"<p>Those injectors are special as they required an executor (neutral agent) to be launched on endpoints. When they register to the platform, they inform available executors on how to spawn them on the 3 currently supported platforms: Windows, Linux and MacOS.</p> <p>Some of them :</p> <ul> <li>Caldera: Facilitates the use of the MITRE Caldera framework, empowering administrators to leverage advanced simulation   capabilities. For more information concerning the Caldera injector, please refer to   the dedicated documentation page.</li> </ul>"},{"location":"usage/injectors/#communication-social-medias","title":"\ud83c\udf10 Communication &amp; social medias","text":"<p>Those injectors are used to push information to human assets (aka players) such as emails, SMS, phone calls, instant messaging etc.</p> <p>Some of them :</p> <ul> <li>Challenges: Manages inject \"publish challenges\". To find more information more about this type of inject, please refer   to the dedicated documentation section.</li> <li>Email: Manages the sending of injects' emails, enabling communication and dissemination of simulation-related     information.</li> <li>Manual: Platform functionality for creating manual action reminders, allowing administrators to prompt specific   actions to be performed manually. To find more information about the related inject, please refer to   the dedicated documentation section.</li> <li>Media pressure: Manages inject \"publish channel pressure\". To find more information about this type of inject, please   refer to the dedicated documentation section.</li> <li>OVHCloud SMS Platform: Facilitates SMS messaging for injects, providing an additional communication channel for   simulation participants.</li> </ul>"},{"location":"usage/injectors/#incident-response-case-management","title":"\ud83e\uddef Incident Response &amp; Case Management","text":"<p>Those injectors are used to inject real or fake information into case management, ticketing and incident response systems.</p>"},{"location":"usage/injectors/#others","title":"\ud83d\udc89 Others","text":"<p>All other system OpenBAS can inject, as part of breach and attack simulation campaigns.</p> <p>Some of them :</p> <ul> <li>Airbus CyberRange (Lade): Integration with the Airbus CyberRange platform, enabling seamless interaction and   collaboration with CyberRange environments. For more information concerning CyberRange, please refer to   the Airbus website.</li> <li>HTTP query: Executes HTTP requests on external services, facilitating interactions with external systems. To find more   information about the related inject, please refer to the dedicated documentation section.</li> <li>OpenCTI: Integration with an OpenCTI platform, enhancing simulation capabilities with access to threat intelligence   and automatic scenario generation based on observed threat activities.</li> </ul>"},{"location":"usage/injectors/#agents","title":"Agents","text":"<p>Tips</p> <p>If you want to learn more about the concept and features of agents, you can have more info here.</p> <p>For certain injectors, deploying an agent on the target machine is necessary to facilitate integration with OpenBAS. These agents are software programs that connect back to OpenBAS at certain intervals to get instructions.</p> <p>To access the agents and installation instructions, navigate to the dedicated page located in the top right-hand corner (button with the screen logo).</p> <p>Detailed guidance on installing the agents, along with downloadable packages, is provided on this page. Agents are available for various operating systems, including Windows, Linux, and MacOS, ensuring compatibility across different environments.</p> <p>As of now, only the Caldera injector requires the installation of an agent. This agent enables full integration with the MITRE Caldera framework, unlocking advanced simulation capabilities and enhancing the overall effectiveness of simulation exercises. Full details of the Caldera agent are available in the MITRE documentation.</p> <p></p>"},{"location":"usage/injects/","title":"Injects","text":"<p>Injects are fundamental elements of simulations within OpenBAS, each representing a discrete action to be executed during a Scenario. Managed and facilitated by various injectors, each inject type serves a distinct purpose, contributing to the comprehensive evaluation of defenses.</p> <p></p>"},{"location":"usage/injects/#create-an-inject","title":"Create an inject","text":"<p>Whether intended for Atomic testing or for a Simulation, the process for creating injects remains consistent within OpenBAS.</p> <p></p>"},{"location":"usage/injects/#for-atomic-testing","title":"For Atomic testing","text":"<p>To create an inject for atomic testing, navigate to the \"Atomic testing\" section located in the left-hand banner. Click on the \"+\" icon in the bottom right corner to initiate the inject creation process.</p>"},{"location":"usage/injects/#for-scenarios-and-simulations","title":"For Scenarios and Simulations","text":"<p>For injects intended for use within simulations, access the desired Scenario or Simulation and navigate to the \"Injects\" tab. Click on the \"+\" icon in the bottom right corner of the screen to open the inject creation panel.</p> <p>Note that an inject defined in a Scenario will be used in all the scenario's subsequent simulations. An Inject defined at the simulation level will not be replicated into the Scenario itself, thus it will not be replicated in future scenario's simulations.</p> <p></p>"},{"location":"usage/injects/#inject-creation-process","title":"Inject creation process","text":"<p>Once the inject creation panel is open, you can proceed to configure the inject according to your requirements. Key steps in the creation process include:</p>"},{"location":"usage/injects/#1-choose-the-type-of-inject","title":"1. Choose the type of inject","text":"<p>You first need to select an inject in the list of available ones (on the left of the creation screen). Logos on the left of each line indicates which Injector is associated with each inject. Depending on your integrations, this list can be long.</p> <p>To facilitate the selection into this possibly very long list, you can search injects by name and filter the list by selecting a precise MITRE ATT&amp;CK techniques for instance.</p>"},{"location":"usage/injects/#2-set-inject-parameters","title":"2. Set inject parameters","text":"<p>When selecting an inject on the left, the form on the right populates itself with a by-default title and propose you to define:</p> <ul> <li>Descriptive information: Fill in details such as the title, description, and relevant tags to categorize the inject effectively.</li> <li>Execution timing: If you are creating your inject in the context of a scenario or simulation, you have to set the timing for when the inject should be executed within the simulation timeline, ensuring it aligns with the overall scenario progression.</li> </ul> <p>By clicking on \"Inject content\", you can define now or later:</p> <ul> <li>Inject targets: Specify the targets for the inject, which may include players and teams or assets and assets groups depending on the inject chosen. </li> <li>Expectations: Define the expected outcomes or responses to the inject, outlining the desired actions or behaviors by players. </li> <li>Attachments: Attach any relevant documents or resources to provide additional context or information related to the inject. </li> <li>Additional fields: Depending on the type of Inject selected, you may have access to additional fields specific to that inject type. These fields may include the subject and body of an email, channel pressure settings for public communications, obfuscation options, and more.</li> </ul> <p>The \"available variables\" button helps you to use already defined variables into compatible fields.</p> <p></p> <p>By following these steps and providing the necessary information, you can create injects tailored to your specific testing or simulation objectives.</p>"},{"location":"usage/injects/#inject-types","title":"Inject types","text":"<p>There are different types of injector in OpenBAS.</p> <p></p>"},{"location":"usage/injects/#manual-action-reminders","title":"Manual action reminders","text":"<p>Manual action reminders are injects designed to prompt animation team to perform specific actions manually. It allows to place in the timeline a stimulus to be produced manually, outside the platform (e.g. simulated a call from a journalist on the switchboard telephone). These reminders ensure that critical tasks are completed as part of the simulation, enhancing the accuracy and realism of the exercise.</p> <p>The inject associated with this type is referred to as <code>Manual</code>.</p>"},{"location":"usage/injects/#direct-contact","title":"Direct contact","text":"<p>Injects for direct contact allow sending emails or SMS messages to players. These injects assess the organization's response to communication-based threats, such as phishing attempts, social engineering attacks, or emergency notifications. They can also assess crisis management, including responses to internal information requests or management pressure.</p> <p>Here's the list of injects linked to this category:</p> <ul> <li><code>Send a SMS</code>: enables sending SMS messages.</li> <li><code>Send individual mails</code>: enables sending emails to individuals separately.</li> <li><code>Send multi-recipients mail</code>: enables sending emails to a group of people (each recipient can see the other recipients).</li> </ul> <p></p>"},{"location":"usage/injects/#media-pressure","title":"Media pressure","text":"<p>Injects simulating public communications involve the publication of articles, social media posts, or other fake announcements. These injects replicate scenarios where public disclosure of information or events affects an organization's reputation or operational continuity.</p> <p>The inject associated with this type is referred to as <code>Publish channel pressure</code>.</p> <p></p>"},{"location":"usage/injects/#challenges","title":"Challenges","text":"<p>Challenge injects are set to test participants' skills and response capabilities by publishing challenges. These injects present scenarios or tasks that require active participation and problem-solving, allowing administrators to evaluate players.</p> <p>The inject associated with this type is referred to as <code>Publish challenges</code>.</p> <p></p>"},{"location":"usage/injects/#http-requests","title":"HTTP requests","text":"<p>HTTP request injects are used to forge HTTP requests to a third party services in order to perform actions outside the platform (e.g. API call to an EDR). These injects enable the platform to communicate with external services, gather information, or trigger specific actions via HTTP protocols.</p> <p>HTTP requests GET, POST, and PUT, can be sent. The corresponding injects are named <code>HTTP Request - \\&lt;request type&gt;</code>.</p> <p></p>"},{"location":"usage/injects/#integrations-with-agents-and-cyberranges","title":"Integrations with Agents and CyberRanges","text":"<p>Injects executed on remote systems are facilitated by Injectors like Caldera or Airbus CyberRange. These actions simulate real-world attack techniques, allowing administrators to gauge the effectiveness of their security posture in response to various technical actions attackers may take.</p> <p>There are over 1,700 such injects covering all the TTPs in the MITRE ATT&amp;CK matrix.</p>"},{"location":"usage/injects/#inject-tests","title":"Inject tests","text":"<p>You can test direct contact injects in simulations and scenarios.</p>"},{"location":"usage/injects/#unit-test","title":"Unit test","text":"<p>You can test injects one at a time.</p> <p></p> <p>In the injects list of your simulation/scenario, open the contextual menu of an email or sms inject. Click on \"Test\". A confirmation dialog appears, you can confirm the test or cancel it.</p> <p></p> <p>After launching the test, an alert appears at the top of the page. You can click on the \"dedicated page\" link. You are redirected to the tests list, a drawer with the execution details of the test opens.</p> <p></p> <p>Warning</p> <p>The option is disabled if your inject doesn't have any teams.</p>"},{"location":"usage/injects/#bulk-test","title":"Bulk test","text":"<p>You can test injects in bulk.</p> <p></p> <p>Select the injects you want to test then click on the bug icon. A confirmation dialog appears, you can cancel or confirm the launch of the test.</p> <p></p> <p>As mentioned in the dialog, only sms and emails injects will be tested. The emails/sms are sent to the current user. </p> <p>After the launch of the test, you are redirected to the tests list page.</p>"},{"location":"usage/injects/#tests-list","title":"Tests list","text":"<p>A \"Tests\" tab is available in simulations and scenarios. The list of all the tests done on the injects of the simulation/scenario are displayed. Clicking on one of the lines opens the drawer with the execution details of the tests.</p> <p>Note</p> <p>Only the latest test is displayed for each inject.</p>"},{"location":"usage/injects/#replay-tests","title":"Replay tests","text":"<p>Each test in the list has a menu allowing users to delete or replay the test.</p> <p></p> <p>After confirming the replay of the test, the details are updated.</p> <p>The user can also replay all the tests in the list. An icon similar to the one in the injects toolbar is available at the top of the list. After clicking on it, the user confirms the tests launch and the details are updated.</p>"},{"location":"usage/injects_and_expectations/","title":"Injects and Expectations","text":"<p>Evaluating security posture in OpenBAS is to confront events (aka Injects) with Expectations.</p>"},{"location":"usage/injects_and_expectations/#injects","title":"Injects","text":"<p>Threats are the results of actions by threat actors, and a combination of intent, capability and opportunity. In OpenBAS, simulating threats and their attack capabilities involves executing injects targeting players and assets.</p> <p>Injects can be technical, emulating action attackers might take on an endpoint, and non-technical, representing interactions with players or impactful contextual events during a crisis (such as media inquiries by phone following a data breach).</p> <p></p> <p></p>"},{"location":"usage/injects_and_expectations/#expectations","title":"Expectations","text":"<p>Each Inject is associated with Expectations. Expectations outline the anticipated outcomes from security systems and teams in response to attacker actions or contextual events.</p> <p>Expectations can be about:</p> <ul> <li>Prevention: ensuring that the security posture can prevent the attacker's actions.</li> <li>Detection: ensuring that the security posture can detect the attacker's actions.</li> <li>Human response: ensuring that teams react appropriately according to defined security processes.</li> </ul> <p>The collection and concatenation of expectations' results, broken down per type, allows to assess the security posture against a threat context. This provides insights to identify areas for improvement.</p>"},{"location":"usage/injects_builtin/","title":"Injects built-in","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/mitigations/","title":"Mitigations","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/openbas-agent/","title":"OpenBAS Agent","text":""},{"location":"usage/openbas-agent/#introduction","title":"Introduction","text":"<p>The OpenBAS Agent is an application whose main role is to enroll an Asset on the OpenBAS platform, to retrieve jobs or scripts to be executed and to transmit this information to Implants (subject to come) for execution on the host Asset.</p> <p>The Agent will not perform direct actions on the Asset to remain neutral for antivirus and ensure the full run of the simulation.</p> <p>The OpenBAS Agent is compatible with different OS (Windows, Linux, macOS) and is developed in Rust.</p>"},{"location":"usage/openbas-agent/#installation","title":"Installation","text":"<p>Depending on the OS, several installations are at your disposal, you can find them on OpenBAS by clicking the blue icon on the right top corner : </p> <p>Linux</p> <ul> <li>Requirement \u2192 systemd, access to the openbas instance used</li> <li>Compatibility \u2192 All systemd based linux distros</li> <li>Installation \u2192 Create a service with name openbas-agent (\"Install Linux Agent\")</li> <li>Verification command line \u2192 <code>systemctl enable openbas-agent</code></li> <li>Start/Stop service \u2192<code>systemctl start openbas-agent</code> &amp; <code>systemctl stop openbas-agent</code></li> </ul> <p>MacOS</p> <ul> <li>Requirement \u2192 launchd, access to the openbas instance used</li> <li>Compatibility \u2192 All launchd based MacOS distros (10.4 Tiger or higher)</li> <li>Installation \u2192 Create a service with name openbas-agent (\"Install MacOS Agent\")</li> <li>Verification command line \u2192 <code>launchctl list | grep openbas.agent</code></li> <li>Start/Stop service \u2192 <code>launchctl bootstrap system ~/Library/LaunchDaemons/openbas-agent.plist</code> &amp; <code>launchctl bootout system ~/Library/LaunchDaemons/openbas-agent.plist</code></li> </ul> <p>Windows</p> <ul> <li>Requirement \u2192 powershell 7 or higher, admin user, access to the openbas instance used</li> <li>Compatibility \u2192 All major Windows versions</li> <li>Installation \u2192 Create a service with name openbas-agent (\"Install Windows Agent\")</li> <li>Verification command line \u2192 <code>Get-Service -Name \"OBASAgentService\"</code></li> <li>Start/Stop service \u2192 <code>Start-Service -Name \"OBASAgentService\"</code> &amp; <code>Stop-Service -Name \"OBASAgentService\"</code></li> </ul> <p>The following flow diagram represents the Agent installation flow :</p> <p></p>"},{"location":"usage/openbas-agent/#network-traffic","title":"Network Traffic","text":"<p>The installation creates two firewall rules.</p> <p>Inbound rule </p> <p>Outbound rule </p>"},{"location":"usage/openbas-agent/#features","title":"Features","text":"<p>The main features of the OpenBAS Agent are:</p> <ul> <li>Agent registration on the OpenBAS platform</li> </ul> <p>The Agent is installed on the Asset using an agent-installer.exe file and runs as a service.   It communicates with the deployed OpenBAS instance in order to enroll the Asset. In some cases   like unsecured certificates or environment with proxy, the agent can't communicate with OpenBAS.   In order to fix those issues, look at \"Network and security\" chapter from configuration   to add the required attributes.</p> <p>NB : An Asset can only have one OpenBAS agent installed thanks to a machine id calculated according   to the operating system and its parameters. If you try to install again an OpenBAS agent on a platform, it will   overwrite the actual one and you will always see one endpoint on the OpenBAS endpoint page.</p> <p></p> <ul> <li> <p>Auto upgrade the Agent (on start-up and registration)</p> </li> <li> <p>Retrieval of jobs to be executed</p> </li> </ul> <p>The Agent retrieves jobs to be executed from the OpenBAS instance every 30 seconds.   For the moment, jobs are Implant to spawn and launch on the Asset, waiting to execute payloads of your Simulation's Injects.   Each job execution logs is kept in a dedicated directory in order to have a trace of what happened (pid, executable).</p> <ul> <li>Deleting executables and execution directories</li> </ul> <p>The Agent deletes Implants that have been running for a predefined time and cleans the execution directories.</p> <ul> <li>Health check</li> </ul> <p>The Agent pings the OpenBAS instance every 2 minutes to notify it of its healthy status.</p> <ul> <li>Cleanup</li> </ul> <p>The Agent ensures that the processes it has executed are correctly finished or deleted if necessary.    The maximum time in minutes that a process associated with an execution directory can remain active is 20 minutes.</p> <p>The Agent removes execution directories to avoid excessive disk space.    The maximum time in minutes that an execution directory can be kept before being deleted is 2 days.</p>"},{"location":"usage/playing/","title":"Playing","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/scenario/","title":"Scenario","text":"<p>When clicking on Scenarios in the left menu, you access to the list of all Scenarios defined in the platform. Scenarios act as templates that translate threat contexts into meaningful events to simulate.</p> <p>Scenarios can be grouped by defining categories, main focus, severity and tags. It is then possible to filter the Scenarios list based on these attributes. Quick filters are available by default at the top of the screen to filter Scenario on most used categories.</p> <p>It is also possible to search Scenarios by their names using the search bar.</p>"},{"location":"usage/scenario/#create-a-scenario","title":"Create a scenario","text":"<p>To create a scenario, hit the + button on the bottom right of the screen and define general metadata that make sense for you. </p> <p>Once done, the scenario is accessible in the list. Click on it to see its details and define them.</p>"},{"location":"usage/scenario/#scenario-overview","title":"Scenario overview","text":"<p>The overview provides comprehensive information for evaluating your security posture against the threat context over time. It displays the scenario's context along with the results of the simulations played from it. Additionally, the list of these simulations is shown, allowing easy access to their specific details and results.</p> <p>If the scenario has never been simulated, the results' widget contains an example of how results will be displayed, and the list of simulations is replaced with an invitation to generate one.</p>"},{"location":"usage/scenario/#defining-a-scenario","title":"Defining a Scenario","text":"<p>To define the scenario, navigate to the \"Definition\" and \"Injects\" tabs.</p> <p>In the \"Definition\" tab, you can add various elements to construct events:</p> <ul> <li>Teams and Players involved in the scenario,</li> <li>Custom variables for simplifying injects' customization,</li> <li>Articles that you might use to simulate media pressure,</li> <li>Challenges designed for including Capture The Flag elements in your scenario.</li> </ul> <p>Once you have added all the elements you need, you can go to the \"Injects\" tab to begin to create the chain of events that will shape your scenario.</p> <p>By clicking on the + button at the bottom right of the screen, you enter the inject creation workflow.</p>"},{"location":"usage/scenario/#launching-a-simulation-of-the-scenario","title":"Launching a simulation of the scenario","text":"<p>Once you've finished defining your scenario, it's time to simulate it and evaluate your security posture!</p> <p>To do so, click the \"Simulate now\" button. You can choose to simulate this scenario as a one-time evaluation, scheduling it for a specific date and time. Additionally, you can set it to simulate recurrently to assess your posture over time. The results of each simulation will populate your scenario overview.</p> <p>A visual indication, located to the right of the scenario's title, provides a quick way to know if the scenario is currently being simulated.</p>"},{"location":"usage/scenario/#export-your-scenario","title":"Export your scenario","text":"<p>You can export your carefully crafted scenario as a JSON file by clicking the three-dots button at the top right of the scenario screen. This allows you to share it with others, or store it outside the platform.</p>"},{"location":"usage/scenario_import/","title":"Importing Injects into a Scenario","text":"<p>Recreating a timeline of injects that were already defined in a spreadsheet can be a frustrating task. To help users save time, we added the possibility to import injects as defined in an xls file into a scenario. This is done via a two-steps process : creating a mapper and importing the xls file using the mapper.</p>"},{"location":"usage/scenario_import/#how-to-create-a-mapper","title":"How to create a mapper ?","text":"<p>First of all, to import injects into a scenario, you need to create a mapper. To do that, using an admin account, navigate to the Settings &gt; Data ingestion page. You will then be able to see a list of all the mappers but also to create new ones by clicking on the \"+\" button on the bottom right of the screen.</p> <p></p>"},{"location":"usage/scenario_import/#setting-up-the-mapper-to-tell-each-injects-apart","title":"Setting up the mapper to tell each injects apart","text":"<p>When creating a new mapper, you will quickly be asked to choose an inject type column. This column is the one that will allow the mapper to figure out which injects to create (Sending a mail, sending an sms, ...). Once this column has been chosen, you can add a representation for an inject type. </p> <p>The first thing to define in this representation is the matching type in the xls. This is the value that will define which inject to create when scanning the column defined in \"inject type column\". For instance, if you want to create an inject that sends individual emails when in the column there is the word \"mail\", then you will need to set the value as \"mail\". You can also make use of regular expressions in this field. Please keep in mind though that this value is case sensitive. </p> <p></p> <p>Once that is done, you can select the inject type among a list of injects that are compatible with the xls import. When that selection is done, you will be able to set a column for each of the attribute that can be completed using the import. If you wish to set a default value you can do so by clicking the gear on the right side of the field.</p>"},{"location":"usage/scenario_import/#properly-setting-the-trigger-time-of-the-inject","title":"Properly setting the trigger time of the inject","text":"<p>It should also be noted that the \"Trigger Time\" field has a second parameter that can be set using the gear button. It can be used to set a custom format for specific dates and or time to be interpreted. The complete format rules are available here but here is a very quick overview :</p> Symbol Meaning Presentation Examples y year-of-era year 2004; 04 M/L month-of-year number/text 7; 07; Jul; July; J d day-of-month number 10 a am-pm-of-day text PM h clock-hour-of-am-pm (1-12) number 12 H hour-of-day (0-23) number 0 m minute-of-hour number 30 s second-of-minute number 55 ' escape for text delimiter '' single quote literal ' [ optional section start ] optional section end <p>Please, do note that if you wish to use exact time of the day (e.g. 9:30) in your trigger time, you will need to set a launch date on your scenario before importing the timeline of injects from the xls file.</p> <p>You can also decide to use relative dates for each injects. For instance, you can say that your first inject happens at T and that subsequent injects happens at T+x. If so, you can set relative dates using the following values :</p> Symbol Meaning D Day J Day H Hour T Hour M Minutes <p>This means that if you want your inject to start 2 days, 3 hours and 45 minutes after the start of your scenario, you can set the trigger time to D+2 H+3 M+45. When using relative dates, you do not need to define a pattern for the trigger time field.</p> <p>Once you have set all fields you wish to set, you can click on the create button if you wish to create your mapper but you can also click on the test button to check that it works as intended.</p>"},{"location":"usage/scenario_import/#testing-the-mapper","title":"Testing the mapper","text":"<p>If you click on the test button, you'll then be asked to choose a file. Once that is done, you will have to select the sheet to test out of the spreadsheet and the timezone. You will then be able to click on Test to have the result field filled as well as a list of the messages generated during the import (those are not saved, and are just there to help figure out what happened during the import itself).</p> <p></p>"},{"location":"usage/scenario_import/#how-to-import-injects-into-a-scenario-using-a-mapper","title":"How to import injects into a scenario using a mapper ?","text":"<p>Once your mapper has been created, navigate to your scenario and then to the injects tab. There, you will be able to click on an import button on the top right. A modal will be opening, inviting you to select an .xls/.xlsx file. Once it has been selected, you can click on next. You will then be asked to choose the sheet to import out of the spreadsheet and to select the mapper to use. You will also be able to select the timezone to use for the import. Once everything is set, click on the launch import button and your injects will be imported into the current scenario ! Please do not that if all the dates in the xls file are absolute time of the day (e.g. 9:30, 12:45, ...), it is required for the scenario to have a launch date set.</p>"},{"location":"usage/scenarios_and_simulations/","title":"Scenarios and Simulations","text":"<p>In OpenBAS, the core concept to simulate attacks is based on the duo Scenario &amp; Simulation.</p>"},{"location":"usage/scenarios_and_simulations/#scenarios","title":"Scenarios","text":"<p>Scenario enable to translate a threat context, such as an attack or even a threat actor, into a meaningful sequence of events (referred to as injects), which can be technical or non-technical. This chronology of events can be enriched with associated documents or media articles to simulate the environment surrounding them.</p> <p>Within Scenarios, you also specify who participates, whether actual people (referred to as Players) or endpoints (referred to as Assets). They will be the targets of the events representing the threat.</p> <p>In order to translate real threats into Scenarios, it is possible to create them from OpenCTI data, such as Reports.</p>"},{"location":"usage/scenarios_and_simulations/#simulations","title":"Simulations","text":"<p>If a Scenario translates threat context into meaningful events, a Simulation serves as a means to evaluate your security posture against this threat context. </p> <p>By simulating a scenario with recurrence, you can evaluate your security posture over time in response to a threat context. Since simulations are always linked to their parent scenario, even if it evolves, you can: - assess your risk against evolving threats, - evaluate the effectiveness of your security governance in addressing your most relevant threats.</p>"},{"location":"usage/simulation/","title":"Simulation","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p> <p>When clicking on Simulations in the left menu, you access to the list of all Simulations ever launched in the platform. You can filter by tag (for example to only display simulation related to a specific threat actor) and sort them (chronologically, by status, etc.).</p> <p>From this screen, you can easily see last global scores and access ongoing Simulations at platform level.</p>"},{"location":"usage/simulation/#creating-a-simulation","title":"Creating a Simulation","text":"<p>The best practice to create a Simulation is to do it from a Scenario in order to evaluate your security posture over time against a specific threat context.</p> <p>But you can create directly a Simulation if you want, by hitting the + button on the bottom right of the screen. You will have similar definition options as in Scenario creation.</p>"},{"location":"usage/simulation/#simulation-overview","title":"Simulation overview","text":"<p>The Overview regroups everything you need to know to follow your Simulation by its Results. Results are broken down into 3 main metrics:</p> <ul> <li>Prevention: the ability of your security posture to prevent the simulated scenario's events to happen</li> <li>Detection: the ability of your security posture to detect the simulated scenario's events</li> <li>Human response: the ability of your security teams to react as intended facing the simulated scenario</li> </ul> <p>The top of the Simulation screen give you the ability to Start, stop and Reset the Simulation, delay the launch time.</p>"},{"location":"usage/simulation/#overriding-the-scenario-definition","title":"Overriding the Scenario definition","text":"<p>In a Simulation, you can see and modify all elements defining it: Teams and Players, Variables, Media pressure, Challenges, Injects. Modifying the Simulation definition allows you to customize it to adapt a singular play to some temporary changes. For example, change an email address into Variables to be used in email-related injects, change a playing team, etc.</p>"},{"location":"usage/simulation/#animating-a-simulation","title":"Animating a Simulation","text":"<p>The Animation screen of a Simulation is the place to follow the Simulation execution, especially if you are conducting simulation at strategical level (heavily relying on interactions with Teams and Players, manual validations of expectations) for training your organization on all aspects of a cyber crisis.</p> <p>The Timeline screen is the overview of the Animation tab, to see ongoing injects.</p> <p>The Mails screen is a way to manage email interaction with Players into the OpenBAS platform.</p> <p>The Validation screen is the place to manually validate expectations of the Simulation to consolidate Results.</p> <p>The Simulation logs is an interface for the animation team to collaborate during the Simulation.</p>"},{"location":"usage/simulation/#lessons-learned","title":"Lessons learned","text":"<p>In the Lesson Learned tab of a Simulation, you can manage the collection and concatenation of customizable surveys. It helps you in conducting the most underestimated part of a Breach and Attack simulation involving real people, by automating it and complete your Simulation's Results with qualitative feedback.</p>"},{"location":"usage/simulation_reports/","title":"Generating and Sharing Simulation Reports in PDF Format","text":"<p>You can generate and share a simulation report in PDF format.  The following steps guide you through viewing, creating, and editing simulation reports, as well as generating PDF of these reports.</p>"},{"location":"usage/simulation_reports/#viewing-the-list-of-simulation-reports","title":"Viewing the List of Simulation Reports","text":"<ul> <li>Access the Simulation Page</li> <li>Open the Report Drawer: Click on the \"Edit\" button located on the right side of the page, then select \"Access Reports\"</li> </ul> <ul> <li>A drawer will open, displaying the list of all previously generated reports for the selected simulation.</li> <li>Click on the report name from the list to view the full report details.</li> </ul>"},{"location":"usage/simulation_reports/#creating-a-new-simulation-reports","title":"Creating a New Simulation Reports","text":"<ol> <li>At the bottom of the report list in the drawer, click on the \"Add\" button to create a new report.</li> </ol> <ol> <li>The default name of the report will be the same as the simulation name. You can edit the report name if needed.</li> <li>You have the option to choose which modules to include in your report by selecting them.</li> </ol>"},{"location":"usage/simulation_reports/#adding-global-observations-and-comments","title":"Adding Global Observations and Comments","text":"<p>When you navigate into the Report Simulation Details page: * You can add a global observation related to the overall simulation. * You can add specific comments to each inject within the report.</p> <p>All observations and comments are independent and unique to each report.</p>"},{"location":"usage/simulation_reports/#editing-a-generated-report","title":"Editing a Generated Report","text":"<p>Even after a report has been generated, it is still possible to update:  * The report name. * The modules to be displayed in the report.</p>"},{"location":"usage/simulation_reports/#generating-a-pdf-of-the-report","title":"Generating a PDF of the Report","text":"<p>Once you are on the report page: Click on the \"PDF\" button on the top of the simulation report details page to generate a PDF format.</p> <p></p>"},{"location":"usage/skills/","title":"Skills","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/systems/","title":"Systems","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/targets/","title":"Targets","text":"<p>When you are using an Inject, whether for Atomic testing, Scenario or Simulation, it's necessary to define the recipients, known as \"targets\", which could include Players, Teams, Assets (endpoints) or/and Asset groups it will be sent to. They are called \"targets\" of the inject.</p> <p>Note that certain injects can't target assets, while others can't target players. For instance, the \"Send individual mails\" inject can only target players and teams, not assets. </p> <p>Target selection is performed during inject creation or update.</p>"},{"location":"usage/targets/#selecting-players-and-teams","title":"Selecting Players and Teams","text":"<p>Directly targeting a player isn't yet possible. Instead, you must target a team. In scenarios or simulations, the team must be included in the scenario or simulation to be selectable. However, when creating atomic testing, all teams in the platform are selectable.</p> <p>Note that visibility of teams and players is limited by the organization's segregation.</p> <p>When selecting a team as the target, all players within that team will be targeted by the inject. Each player will have to complete expectations.</p>"},{"location":"usage/targets/#selecting-assets-endpoints-and-asset-groups","title":"Selecting Assets (endpoints) and Asset groups","text":"<p>You can target assets (endpoints) directly or asset groups. In the dedicated dialog, only assets compatible with the inject are listed by default.</p> <p>When selecting an asset group to target, all assets (endpoints) within the group will be targeted by the inject. Each one will have to complete expectations.</p>"},{"location":"usage/teams_and_players_and_organizations/","title":"Players, Teams and Organizations","text":"<p>Breach and Attack Simulation involves testing your security posture, and people are an essential part of it!</p> <p>Players, teams, and organizations are where you organize the human aspect of your security posture within OpenBAS (in the \"People\" section). These entities are the targets for injects during your simulations and atomic testings.</p> <p></p>"},{"location":"usage/teams_and_players_and_organizations/#players","title":"Players","text":"<p>Players are the users that may take part into your scenarios, to be tested against attack or contextual events (i.e. injects).</p> <p>Players can be created manually with the + button at the bottom right, but we encourage you to activate an integration allowing to import them from your IT environment, like with Microsoft Entra integration.</p> <p>Players are defined by:</p> <ul> <li>Email address,</li> <li>First name,</li> <li>Last name,</li> <li>Organization: to link a player to an organization (see below),</li> <li>Country,</li> <li>Phone number: necessary if you want to play SMS injects,</li> <li>PGP public key: necessary if you want to play encrypted email injects,</li> <li>Tags: if you want to sort them by custom categories.</li> </ul> <p>This list of players can be exported by clicking on the export button, at the top right of the players screen.</p>"},{"location":"usage/teams_and_players_and_organizations/#teams","title":"Teams","text":"<p>Teams group players into units that can be targeted by injects during simulations or atomic testing. They serve as a way to represent different security teams (e.g., CSIRT, SOC, VOC) and other relevant teams that might be involved into your scenario (e.g., legal department, communication department).</p> <p>Teams are defined by:</p> <ul> <li>Name,</li> <li>Description,</li> <li>Organization: to link a team to an organization (see below),</li> <li>Tags: if you want to sort them by custom categories.</li> </ul> <p>From the teams list, you can manage players by clicking on the three-dots inline button on the right and selecting \"Manage players.\" From there, you can view, update, or delete all the team's players and see their communication channels' state.</p> <p></p>"},{"location":"usage/teams_and_players_and_organizations/#organizations","title":"Organizations","text":"<p>Organization provides a straightforward method to segregate players and teams within the platform. A player associated with an organization, even with the required rights to animate and planned scenarios and simulations, will never see players and teams from other organizations.</p> <p>This feature can be particularly useful if you are using OpenBAS to plan and execute simulations for various companies or subsidiaries.</p>"},{"location":"usage/testing/","title":"Testing","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/components/challenges/","title":"Challenges","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p> <p>Challenges are integral to handling CTF (Capture The Flag) activities on the OpenBAS platform. You can define your challenge and the flags that need to be found to complete it.</p>"},{"location":"usage/components/challenges/#create-a-challenge","title":"Create a Challenge","text":"<p>To create a new challenge, follow these steps:</p> <ol> <li>Click the + button at the bottom right corner of the screen.</li> <li>Give your new challenge a name and specify one or more flags.</li> <li>Optionally, fill in additional fields to provide more context to your players, such as the category, content (    explanation, context, steps), and attach any relevant documents.</li> <li>Manage your challenge by setting a score and a maximum number of attempts allowed for completing the challenge.</li> </ol> <p></p> <p>Once completed, your new challenge will appear in the challenge list.</p>"},{"location":"usage/components/challenges/#use-a-challenge","title":"Use a Challenge","text":"<p>Challenges can be utilized in Scenarios and Simulations. When creating an inject of type \"Publish challenges,\" you need to select a challenge to be sent to your players.</p> <p></p>"},{"location":"usage/components/channels/","title":"Channels","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p> <p>In OpenBAS, Channels represent communication medias with a particular look. There are used to present web articles or other media contents to Players in a specific way.</p> <p>It helps give shape to your Scenario context and events.</p>"},{"location":"usage/components/channels/#create-a-channel","title":"Create a Channel","text":"<p>First step is to click on the + button at the bottom right and give your new Channel a type (Newspaper, Microblogging, TV Channel), a name and a subtitle.</p> <p>Once done, click on the Channel in the list to access its overview. Here you can define how media content associated to this Chennel will be displayed to Players.</p> <p>You can define primary and secondary colors, choose logos and define how the header is presented.</p> <p>On the right, a mock up of the overview is displayed to give you the look and fill of it.</p> <p></p>"},{"location":"usage/components/channels/#use-a-channel","title":"Use a Channel","text":"<p>A Channel will then be used in Scenario and in Simulation definition. When you create an Article, you have to choose the Channel that will give it an adequate shape.</p> <p>See Media pressure page to know how to create and add Articles to your Scenarios.</p> <p></p>"},{"location":"usage/components/documents/","title":"Documents","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/components/lessons/","title":"Lessons","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p> <p>Lessons in OpenBAS enable you to create customizable surveys for your simulations. These surveys can be composed of various categories and questions within those categories. This feature helps in conducting the often overlooked part of a Breach and Attack Simulation involving real people, by automating the process and complementing your simulation results with qualitative feedback.</p>"},{"location":"usage/components/lessons/#create-a-lesson-template","title":"Create a Lesson template","text":"<p>To create a new lesson template, follow these steps:</p> <ol> <li>Click the + button at the bottom right corner of the screen.</li> <li>Give your new lesson template a name.</li> </ol> <p></p> <p>Once completed, your new lesson will appear in the lesson learned list.</p>"},{"location":"usage/components/lessons/#create-a-category","title":"Create a Category","text":"<p>To create a new category, follow these steps:</p> <ol> <li>Click the + button at the bottom right corner of the screen.</li> <li>Give your new category a name and an order to organize your categories.</li> </ol> <p></p>"},{"location":"usage/components/lessons/#create-a-question","title":"Create a Question","text":"<p>To create a new question, follow these steps:</p> <ol> <li>Click the + button at the bottom of your category.</li> <li>Give your new question a content and an order to organize your questions.</li> </ol> <p></p>"},{"location":"usage/components/lessons/#use-a-lesson-template","title":"Use a Lesson template","text":"<p>Lesson templates can be utilized in the Lesson Learned tab of a Simulation. Here\u2019s how to use them:</p> <ol> <li>Apply a new template.</li> <li>Add relevant teams to the most pertinent categories.</li> <li>Send your survey to collect feedback.</li> </ol> <p>By integrating lesson templates into your simulations, you can gather valuable insights and improve the effectiveness of your Breach and Attack Simulations.</p>"},{"location":"usage/components/media_pressure/","title":"Media pressure","text":"<p>Under construction</p> <p>We are doing our best to complete this page.  If you want to participae, dont hesitate to join the Filigran Community on Slack  or submit your pull request on the Github doc repository.</p> <p>Media pressure are Articles or web contents you create to give more shape to your Scenario, or to simulate contextual pressure on your Teams and Players.</p> <p>For example, you can create an Article about the data leakage your organization is said to be affected by during the Scenario, and simulate its publishing by a large coverage media outlet with a \"Publish channel pressure\" inject.</p>"},{"location":"usage/components/media_pressure/#create-an-article","title":"Create an Article","text":"<p>To create an Article, go to the definition page of your Scenario or your Simulation and click on the + button near \"media pressure\". If you did not create Article yet, you can also click on the more visible \"Create an Article\" button.</p> <p>An media pressure Article is defined by: - Channel: the Channel template that will shape the article during the display to the Players. A Channel must have been defined in the platform. - Title - Author - Content: the content of your article. You can enrich the text and have a preview of the formatted result. You can also go fullscreen. - To simulate social network engagement, you can define number of comments, Shares and Likes of the Articles. - Documents: you can attach file to the Article. It can be useful if you want to simulate the publication of a large report you don't want to craft inside OpenBAS, like a pdf security report for example.</p> <p>Once created, Articles appears as cards in the definition screen of the Scenario or Simulation they have been created into. Note that if an article is not yet used in the Scenario or Simulation (probably because it does not have been used in a \"Publish channel pressure\" inject), it is mentioned into the Article's card.</p>"},{"location":"usage/components/media_pressure/#use-an-article-in-scenario-and-simulation","title":"Use an Article in Scenario and Simulation","text":"<p>To use an Article in a Scenario or Simulation, it must have been created in the context of the Scenario, the Simulation's parent Scenario or the Simulation itself.</p> <p>When you select an Inject, if it is compatible with media pressures, you can add a media pressure article to it.</p>"},{"location":"usage/components/payloads/","title":"Payloads","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p> <p>In OpenBAS, you can create custom payloads based on different types to create new injects.</p> <p>Payloads enhance the platform, allowing you to further customize your scenarios.</p>"},{"location":"usage/components/payloads/#create-a-payload","title":"Create a Payload","text":"<p>To create a new payload, follow these steps:</p> <ol> <li>Click the \"+\" button at the bottom right corner of the screen.</li> <li>Choose a type based on your needs:<ul> <li>Command Line: To execute a command using an executor (e.g., PowerShell, Bash, etc.)</li> <li>Executable: To run an executable file on an asset</li> <li>File Drop: To drop a file onto an asset</li> <li>DNS Resolution: To resolve a hostname into IP addresses</li> </ul> </li> <li>Assign a name to your new payload and specify the platform where it should be executed.</li> <li>Provide additional details for executing your payload, such as arguments and prerequisites.</li> <li>Specify a cleanup executor and a cleanup command to remove any remnants from your execution on the asset.</li> </ol> <p> </p> <p>Once completed, your new payload will appear in the payload list.</p>"},{"location":"usage/components/payloads/#common-payload-properties","title":"Common Payload properties","text":"Property Description Name Payload name Platforms Compatible platforms (ex. Windows, Linux, MacOS) Description Payload description Prerequisites Prerequisites required to execute the command Cleanup executor Executor for cleaning commands Cleanup command Cleanup command to remove or reset changes made Attack patterns Command-related attack patterns Tags Tags Arguments Arguments for the cleanup, prerequisites and potential command line"},{"location":"usage/components/payloads/#prerequisites-in-depth","title":"Prerequisites in depth","text":"Property Description Command executor Executor for prerequisite Check command Verifies if specific condition are met Get command Run command if check command failed"},{"location":"usage/components/payloads/#additional-payload-properties-by-type","title":"Additional Payload properties by type","text":""},{"location":"usage/components/payloads/#command-line","title":"Command Line","text":"<p>This payload type executes commands directly on the command line interface (CLI) of the target system  (e.g., Windows Command Prompt, PowerShell, Linux Shell). </p> <p>Command Line payloads are used for remote command execution to simulate common attacker actions like privilege  escalation or data exfiltration.</p> Property Description Command executor Executor for command to execute Command Command to execute"},{"location":"usage/components/payloads/#executable","title":"Executable","text":"<p>An Executable payload involves delivering a binary file (such as .exe on Windows or ELF on Linux) that the system runs  as an independent process.</p> <p>Executables can perform a variety of functions, from establishing a backdoor to running complex scripts (mimic malware).</p> Property Description Architecture Compatible architecture (ex. x86_64, arm64) Executable file File to execute"},{"location":"usage/components/payloads/#file-drop","title":"File Drop","text":"<p>File Drop payloads are designed to deliver files (e.g., scripts, documents, binaries) to the target system without  immediately executing them.</p> <p>The goal is typically to simulate scenarios where attackers place files in specific locations for later use, either  manually or by another process.</p> Property Description File to drop File to drop"},{"location":"usage/components/payloads/#dns-resolution","title":"DNS Resolution","text":"<p>DNS resolution payloads attempts to resolve hostnames to associated IP address(es).</p> <p>The goal of DNS resolution is to test if specific hostnames resolve to IP addresses correctly, helping assess network  accessibility, detect issues, and simulate potential attacker behavior.</p> Property Description Hostnames Hostname list to resolve"},{"location":"usage/components/payloads/#payload-execution-workflow","title":"Payload execution workflow","text":""},{"location":"usage/components/payloads/#use-a-payload","title":"Use a Payload","text":"<p>After creation, a new inject type will automatically appear in the inject types list if the implant you're using supports it (the OpenBAS Implant does).</p> <p> </p>"},{"location":"usage/components/personas/","title":"Personas","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p>"},{"location":"usage/components/variables/","title":"Variables","text":""},{"location":"usage/components/variables/#built-in-variables","title":"Built-In Variables","text":"<p>Within certain injects, users can leverage a set of predefined built-in variables to dynamically customize content. These variables are designed to streamline the process of personalizing messages. Examples of built-in variables include but not limited to :</p> <ul> <li>${user.email}: Represents the email of the target user</li> <li>${exercise.name}: Represents the name of the current exercise</li> <li>${player_uri}: Represents the player interface platform link</li> <li>${teams}: Represents the list of team name/s for the injection</li> </ul> <p>The list of available variables is found in the definition of the inject :</p> <p> </p>"},{"location":"usage/components/variables/#custom-variables","title":"Custom Variables","text":"<p>In addition to the built-in variables, users can define their own variables within an exercise.</p> <p>To define custom variables :</p> <ol> <li>Select an exercise</li> <li>Navigate to the Definition tab</li> <li>Navigate to the Variables section</li> </ol> <p>In this section, users can create, update or delete custom variables : </p> <p> </p>"},{"location":"usage/components/variables/#limitation","title":"Limitation","text":"<p>To create custom variables, consider the following limitation:</p> <ul> <li>Only lowercase characters and <code>_</code> are authorized for the key value</li> <li>Variable value can only be string</li> </ul>"},{"location":"usage/components/variables/#use-variables","title":"Use Variables","text":"<p>These variables can be used to enhance personalization of certain injects within an exercise. Here is a non-exhaustive list of concerned injects : - Email sending - Sms sending</p> <p> </p> <p>In case of a list like <code>articles</code>, which is a list of articles with properties such as <code>id</code>, <code>name</code>, and <code>uri</code>, or <code>${teams}</code>, you could write:</p> <p>&lt;#list articles as article&gt; - <code>${article.name}</code> &lt;/#list&gt; &lt;#list teams as team&gt; <code>${team}</code> &lt;/#list&gt;</p>"},{"location":"usage/evaluate/overview/","title":"Overview","text":"<p>Under construction</p> <p>We are doing our best to complete this page. If you want to participate, don't hesitate to join the Filigran Community on Slack or submit your pull request on the Github doc repository.</p> <p>The Home screen provides visitors of the OpenBAS platform with an overview of the platform's live activity and a snapshot of your global security posture. Below is a breakdown of the various widgets available on this page.</p>"},{"location":"usage/evaluate/overview/#metric-cards","title":"Metric cards","text":"<p>This section displays the count of different components within the platform, shown in two metrics:</p> <ul> <li>The first big metric inside a card represents the number of objects created over the last 180 days.</li> <li>The second small metric inside a card reflects the number of objects created in the last 30 days.</li> </ul> <p></p> <p>Note</p> <p>From here, the data is based on simulations created and launched within the last 180 days.</p>"},{"location":"usage/evaluate/overview/#performance-overview","title":"Performance overview","text":"<p>This section highlights the results of your simulation inject expectations, categorized in three types: prevention, detection, and human response.</p> <p></p>"},{"location":"usage/evaluate/overview/#simulations","title":"Simulations","text":"<p>This bar chart represents simulations grouped by week, based on their start date.</p> <p></p>"},{"location":"usage/evaluate/overview/#top-simulation-categories","title":"Top simulation categories","text":"<p>This polar chart aggregates all simulations by category, giving you a visual breakdown of the top categories.</p> <p></p>"},{"location":"usage/evaluate/overview/#top-attack-patterns","title":"Top attack patterns","text":"<p>This horizontal bar chart displays the top attack patterns identified in your simulations, based on the number of injects associated with each attack pattern.</p> <p></p>"},{"location":"usage/evaluate/overview/#last-simulations","title":"Last simulations","text":"<p>Here, we display the six most recent simulations, sorted in descending order by their start date.</p> <p></p>"},{"location":"usage/evaluate/overview/#mitre-attck-coverage","title":"MITRE ATT&amp;CK Coverage","text":"<p>This section presents the MITRE ATT&amp;CK matrix, based on the results of your simulation inject expectations. It provides an overview of which tactics and techniques have been covered in your simulations.</p>"},{"location":"usage/scenario/opencti_scenario/","title":"Scenario generation from OpenCTI","text":"<p>Creating a scenario can be a complex task, especially when aiming to build one that is meaningful and relevant to the specific threats facing your organization. To streamline this process and ensure that scenarios are closely aligned with your threat landscape, you can leverage the integration between OpenCTI and OpenBAS.</p> <p>This integration works across multiple entities:</p> <ul> <li>Reports</li> <li>Grouping</li> <li>Incident Response</li> <li>Request For Information</li> <li>Request For Takedown</li> </ul> <p></p> <p>When you click on the simulate button, you\u2019ll have two options:</p> <ul> <li>Generate a scenario based on technical injects</li> <li>Generate a scenario based on email injects, using AI to automatically generate email content</li> </ul> <p>It\u2019s essential to understand that a scenario creation for these entities relies on matching TTPs between OpenCTI and OpenBAS. You\u2019ll need to ensure that the TTPs in both platforms are aligned. For instance, if your report contains the TTP T1059.001, a scenario can be created with an inject, provided OpenBAS also includes T1059.001.</p> <p>When generating a scenario from OpenCTI, a scenario is created and can be accessed from the scenarios screen. The scenario name will include a reference to OpenCTI, indicating its origin. This scenario will automatically contain relevant sequences of injects based on the threat context identified in OpenCTI.</p> <p>However, it's important to review and potentially customize the scenario to ensure it meets your organization's specific requirements. Additionally, you'll need to select appropriate targets for the injects within the scenario.</p> <p>Once you've finalized the scenario, you can schedule your simulation as you would do for any other scenarios. The overall results of the simulation will also be available directly within OpenCTI, providing insights into the threat context upon which the scenario is based.</p> <p></p>"}]}